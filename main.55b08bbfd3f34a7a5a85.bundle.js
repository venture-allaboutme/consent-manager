(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),mixpanel_browser__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(73),mixpanel_browser__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(mixpanel_browser__WEBPACK_IMPORTED_MODULE_1__),_consent_manager_builder__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(180),_container__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35),_categories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(103),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),zeroValuePreferences={marketingAndAnalytics:null,advertising:null,functional:null},ConsentManager=function(_super){function ConsentManager(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.getInitialPreferences=function(){var _a=_this.props,initialPreferences=_a.initialPreferences,customCategories=_a.customCategories;if(initialPreferences)return initialPreferences;if(!customCategories)return zeroValuePreferences;var initialCustomPreferences={};return Object.keys(customCategories).forEach((function(category){initialCustomPreferences[category]=null})),initialCustomPreferences},_this.handleMapCustomPreferences=function(destinations,preferences){var customCategories=_this.props.customCategories,destinationPreferences={},customPreferences={};if(customCategories){for(var _i=0,_a=Object.keys(customCategories);_i<_a.length;_i++){var value=preferences[preferenceName=_a[_i]];customPreferences[preferenceName]="boolean"!=typeof value||value}return destinations.forEach((function(destination){Object.entries(customCategories).forEach((function(_a){var categoryName=_a[0],integrations=_a[1].integrations,consentAlreadySetToFalse=!1===destinationPreferences[destination.id];integrations.includes(destination.id)&&!consentAlreadySetToFalse&&(destinationPreferences[destination.id]=customPreferences[categoryName])}))})),{destinationPreferences:destinationPreferences,customPreferences:customPreferences}}for(var _b=0,_c=Object.keys(preferences);_b<_c.length;_b++){var preferenceName;value=preferences[preferenceName=_c[_b]];customPreferences[preferenceName]="boolean"!=typeof value||value}for(var customPrefs=customPreferences,_loop_1=function(destination){_categories__WEBPACK_IMPORTED_MODULE_4__.a.find((function(c){return c===destination.category}))&&!1!==destinationPreferences[destination.id]&&(destinationPreferences[destination.id]=customPrefs.advertising),_categories__WEBPACK_IMPORTED_MODULE_4__.b.find((function(c){return c===destination.category}))&&!1!==destinationPreferences[destination.id]&&(destinationPreferences[destination.id]=customPrefs.functional),destination.id in destinationPreferences||(destinationPreferences[destination.id]=customPrefs.marketingAndAnalytics)},_d=0,destinations_1=destinations;_d<destinations_1.length;_d++){_loop_1(destinations_1[_d])}return{destinationPreferences:destinationPreferences,customPreferences:customPreferences}},_this}return __extends(ConsentManager,_super),ConsentManager.prototype.render=function(){var _this=this,_a=this.props,writeKey=_a.writeKey,otherWriteKeys=_a.otherWriteKeys,shouldRequireConsent=_a.shouldRequireConsent,implyConsentOnInteraction=_a.implyConsentOnInteraction,cookieDomain=_a.cookieDomain,bannerHeading=_a.bannerHeading,bannerContent=_a.bannerContent,bannerAcceptContent=_a.bannerAcceptContent,bannerRejectContent=_a.bannerRejectContent,bannerSubContent=_a.bannerSubContent,bannerTextColor=_a.bannerTextColor,bannerBackgroundColor=_a.bannerBackgroundColor,preferencesDialogTitle=_a.preferencesDialogTitle,preferencesDialogContent=_a.preferencesDialogContent,cancelDialogTitle=_a.cancelDialogTitle,cancelDialogContent=_a.cancelDialogContent,customCategories=_a.customCategories,defaultDestinationBehavior=_a.defaultDestinationBehavior,cdnHost=_a.cdnHost,onError=_a.onError,mixpanelToken=_a.mixpanelToken,mixpanelTracking=_a.mixpanelTracking;return mixpanel_browser__WEBPACK_IMPORTED_MODULE_1___default.a.init(mixpanelToken),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_consent_manager_builder__WEBPACK_IMPORTED_MODULE_2__.a,{onError:onError,writeKey:writeKey,otherWriteKeys:otherWriteKeys,shouldRequireConsent:shouldRequireConsent,cookieDomain:cookieDomain,initialPreferences:this.getInitialPreferences(),mapCustomPreferences:this.handleMapCustomPreferences,customCategories:customCategories,defaultDestinationBehavior:defaultDestinationBehavior,cdnHost:cdnHost,mixpanelTracking:mixpanelTracking},(function(_a){var destinations=_a.destinations,customCategories=_a.customCategories,newDestinations=_a.newDestinations,preferences=_a.preferences,isConsentRequired=_a.isConsentRequired,setPreferences=_a.setPreferences,resetPreferences=_a.resetPreferences,saveConsent=_a.saveConsent,havePreferencesChanged=_a.havePreferencesChanged,workspaceAddedNewDestinations=_a.workspaceAddedNewDestinations;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_container__WEBPACK_IMPORTED_MODULE_3__.a,{customCategories:customCategories,destinations:destinations,newDestinations:newDestinations,preferences:preferences,isConsentRequired:isConsentRequired,setPreferences:setPreferences,resetPreferences:resetPreferences,saveConsent:saveConsent,closeBehavior:_this.props.closeBehavior,implyConsentOnInteraction:null!=implyConsentOnInteraction?implyConsentOnInteraction:ConsentManager.defaultProps.implyConsentOnInteraction,bannerHeading:bannerHeading,bannerContent:bannerContent,bannerAcceptContent:bannerAcceptContent,bannerRejectContent:bannerRejectContent,bannerSubContent:bannerSubContent,bannerTextColor:bannerTextColor||ConsentManager.defaultProps.bannerTextColor,bannerBackgroundColor:bannerBackgroundColor||ConsentManager.defaultProps.bannerBackgroundColor,preferencesDialogTitle:preferencesDialogTitle,preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:cancelDialogTitle,cancelDialogContent:cancelDialogContent,havePreferencesChanged:havePreferencesChanged,defaultDestinationBehavior:defaultDestinationBehavior,workspaceAddedNewDestinations:workspaceAddedNewDestinations,mixpanelTracking:mixpanelTracking})}))},ConsentManager.displayName="ConsentManager",ConsentManager.defaultProps={otherWriteKeys:[],shouldRequireConsent:function(){return!0},implyConsentOnInteraction:!1,onError:void 0,cookieDomain:void 0,customCategories:void 0,bannerTextColor:"#ffffff",bannerAcceptContent:"Accept All",bannerSubContent:"Manage Preferences",bannerBackgroundColor:"#1f4160",preferencesDialogTitle:"Website Data Collection Preferences",cancelDialogTitle:"Are you sure you want to cancel?",defaultDestinationBehavior:"disable"},ConsentManager}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);__webpack_exports__.a=ConsentManager},103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ADVERTISING_CATEGORIES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FUNCTIONAL_CATEGORIES}));var ADVERTISING_CATEGORIES=["Advertising","Tag Managers"],FUNCTIONAL_CATEGORIES=["CRM","Customer Success","Deep Linking","Helpdesk","Livechat","Performance Monitoring","Personalization","SMS & Push Notifications","Security & Fraud"]},1061:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_ImplyConsentOnInteraction__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(404),_components_CookieView__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),withSourceLoader=__webpack_require__(41).withSource,__STORY__='import React from \'react\'\nimport cookies from \'js-cookie\'\nimport { Pane, Heading, Button } from \'evergreen-ui\'\nimport { ConsentManager, openConsentManager } from \'../src\'\nimport { storiesOf } from \'@storybook/react\'\nimport { ImplyConsentOnInteraction } from \'./ImplyConsentOnInteraction\'\nimport CookieView from \'./components/CookieView\'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = \'You can manage your preferences here!\'\nconst preferencesDialogTitle = \'Website Data Collection Preferences\'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{\' \'}\n      <a\n        href="https://segment.com/docs/legal/website-data-collection-policy/"\n        target="_blank"\n        rel="noopener noreferrer"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = \'Are you sure you want to cancel?\'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerExample = () => {\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey="tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0"\n        otherWriteKeys={[\'vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l\']}\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Your website content </Heading>\n        <Pane display="flex">\n          <iframe\n            src="https://giphy.com/embed/JIX9t2j0ZTN9S"\n            width="480"\n            height="480"\n            frameBorder="0"\n          />\n\n          <iframe\n            src="https://giphy.com/embed/yFQ0ywscgobJK"\n            width="398"\n            height="480"\n            frameBorder="0"\n          />\n        </Pane>\n\n        <p>\n          <Button onClick={openConsentManager}>Data Collection and Cookie Preferences</Button>\n        </p>\n\n        <p>\n          <Heading>to see the banner again:</Heading>\n          <Button\n            onClick={() => {\n              cookies.remove(\'tracking-preferences\')\n              window.location.reload()\n            }}\n          >\n            Clear tracking preferences cookie\n          </Button>\n        </p>\n      </Pane>\n\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf(\'React Component / Basics\', module)\n  .add(`Basic React Component`, () => <ConsentManagerExample />)\n  .add(`Basic React Component with implied consent`, () => <ImplyConsentOnInteraction />)\n',__ADDS_MAP__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerExample=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_5__.a,{writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"],bannerContent:bannerContent,bannerSubContent:"You can manage your preferences here!",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Your website content "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:_src__WEBPACK_IMPORTED_MODULE_6__.b},"Data Collection and Cookie Preferences")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"to see the banner again:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear tracking preferences cookie"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_9__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_7__.storiesOf)("React Component / Basics",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/0.1-consent-manager-close-interaction.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Basic React Component",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,null)})).add("Basic React Component with implied consent",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImplyConsentOnInteraction__WEBPACK_IMPORTED_MODULE_8__.a,null)}))}.call(this,__webpack_require__(34)(module))},1062:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(75),raw_loader_standalone_html__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(240),_components_CookieView__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12),withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { storiesOf } from '@storybook/react'\nimport { Pane } from 'evergreen-ui'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\n\n// @ts-ignore\nimport contents from 'raw-loader!./standalone.html'\nimport CookieView from './components/CookieView'\n\nconst StandaloneConsentManagerExample = () => {\n  return (\n    <>\n      <Pane display=\"flex\" height=\"calc(100vh - 10px)\">\n        <iframe\n          frameBorder=\"0\"\n          style={{ overflow: 'hidden', height: '100%', width: '550px', flex: 1 }}\n          height=\"100%\"\n          width=\"550\"\n          srcDoc={contents}\n        ></iframe>\n        <SyntaxHighlighter language=\"html\" style={docco} customStyle={{ flex: 1 }}>\n          {contents}\n        </SyntaxHighlighter>\n      </Pane>\n\n      <CookieView />\n    </>\n  )\n}\n\nstoriesOf('Standalone / Tag', module).add(`Basic`, () => <StandaloneConsentManagerExample />)\n",__ADDS_MAP__={},StandaloneConsentManagerExample=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex",height:"calc(100vh - 10px)"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{frameBorder:"0",style:{overflow:"hidden",height:"100%",width:"550px",flex:1},height:"100%",width:"550",srcDoc:raw_loader_standalone_html__WEBPACK_IMPORTED_MODULE_5__.a}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.a,{language:"html",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_4__.a,customStyle:{flex:1}},raw_loader_standalone_html__WEBPACK_IMPORTED_MODULE_5__.a)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_6__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Standalone / Tag",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/1-standalone.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Basic",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StandaloneConsentManagerExample,null)}))}.call(this,__webpack_require__(34)(module))},1063:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(75),raw_loader_standalone_custom_html__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(241),_components_CookieView__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12),withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { storiesOf } from '@storybook/react'\nimport { Pane } from 'evergreen-ui'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\n\n// @ts-ignore\nimport contents from 'raw-loader!./standalone-custom.html'\nimport CookieView from './components/CookieView'\n\nconst StandaloneConsentManagerExample = () => {\n  return (\n    <>\n      <Pane display=\"flex\" height=\"calc(100vh - 10px)\">\n        <iframe\n          frameBorder=\"0\"\n          style={{ overflow: 'hidden', height: '100%', width: '550px', flex: 1 }}\n          height=\"100%\"\n          width=\"550\"\n          srcDoc={contents}\n        ></iframe>\n        <SyntaxHighlighter language=\"html\" style={docco} customStyle={{ flex: 1 }}>\n          {contents}\n        </SyntaxHighlighter>\n      </Pane>\n      <CookieView />\n    </>\n  )\n}\n\nstoriesOf('Standalone / Javascript', module).add(`with Customization`, () => (\n  <StandaloneConsentManagerExample />\n))\n",__ADDS_MAP__={},StandaloneConsentManagerExample=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex",height:"calc(100vh - 10px)"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{frameBorder:"0",style:{overflow:"hidden",height:"100%",width:"550px",flex:1},height:"100%",width:"550",srcDoc:raw_loader_standalone_custom_html__WEBPACK_IMPORTED_MODULE_5__.a}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.a,{language:"html",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_4__.a,customStyle:{flex:1}},raw_loader_standalone_custom_html__WEBPACK_IMPORTED_MODULE_5__.a)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_6__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Standalone / Javascript",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/1.1-standalone-custom.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("with Customization",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StandaloneConsentManagerExample,null)}))}.call(this,__webpack_require__(34)(module))},1064:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(102),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(406),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(407),evergreen_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(408),evergreen_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_components_destination_tile__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(179),_storybook_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),_components_CookieView__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { groupBy } from 'lodash'\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui'\nimport { ConsentManagerBuilder } from '../src'\nimport DestinationTile from './components/destination-tile'\nimport { storiesOf } from '@storybook/react'\nimport CookieView from './components/CookieView'\n\nfunction Section(props) {\n  return <Pane is=\"section\" marginBottom={24} {...props} />\n}\n\nfunction byCategory(destinations) {\n  return groupBy(destinations, 'category')\n}\n\nconst CategoryBased = () => {\n  return (\n    <Pane maxWidth={1000} margin={30}>\n      <ConsentManagerBuilder\n        onError={e => console.error('Error Handling', e)}\n        writeKey=\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\"\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\n      >\n        {({ destinations, preferences, setPreferences, saveConsent }) => {\n          function handleSubmit(e) {\n            e.preventDefault()\n            saveConsent()\n          }\n\n          const categories = byCategory(destinations)\n\n          return (\n            <form onSubmit={handleSubmit}>\n              <Section>\n                <Heading>ACME Would like to track you with the following tools:</Heading>\n\n                {Object.keys(categories).map(cat => {\n                  const destinationsForCategory = categories[cat]\n                  return (\n                    <Pane key={cat} marginTop={20}>\n                      <SubHeading>{cat}</SubHeading>\n                      <Ul display=\"flex\" flexWrap=\"wrap\">\n                        {destinationsForCategory.map(d => (\n                          <DestinationTile\n                            key={d.id}\n                            destination={d}\n                            setPreferences={setPreferences}\n                            preferences={preferences}\n                          />\n                        ))}\n                      </Ul>\n                    </Pane>\n                  )\n                })}\n              </Section>\n\n              <Section>\n                <Heading>Preferences</Heading>\n                <Code>{JSON.stringify(preferences)}</Code>\n              </Section>\n\n              <Button type=\"submit\" marginRight={8}>\n                Save\n              </Button>\n\n              <Button type=\"button\" onClick={() => saveConsent(true)} marginRight={8}>\n                Allow all\n              </Button>\n\n              <Button type=\"button\" onClick={() => saveConsent(false)}>\n                Deny all\n              </Button>\n            </form>\n          )\n        }}\n      </ConsentManagerBuilder>\n\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('ConsentManagerBuilder', module).add(`Category Based`, () => <CategoryBased />)\n",__ADDS_MAP__={};function Section(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,__assign({is:"section",marginBottom:24},props))}var CategoryBased=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{maxWidth:1e3,margin:30},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_8__.b,{onError:function(e){return console.error("Error Handling",e)},writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"]},(function(_a){var destinations=_a.destinations,preferences=_a.preferences,setPreferences=_a.setPreferences,saveConsent=_a.saveConsent;var categories=function byCategory(destinations){return Object(lodash__WEBPACK_IMPORTED_MODULE_1__.groupBy)(destinations,"category")}(destinations);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{onSubmit:function handleSubmit(e){e.preventDefault(),saveConsent()}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"ACME Would like to track you with the following tools:"),Object.keys(categories).map((function(cat){var destinationsForCategory=categories[cat];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{key:cat,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,null,cat),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{display:"flex",flexWrap:"wrap"},destinationsForCategory.map((function(d){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_destination_tile__WEBPACK_IMPORTED_MODULE_9__.a,{key:d.id,destination:d,setPreferences:setPreferences,preferences:preferences})}))))}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__.a,null,JSON.stringify(preferences))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_7__.a,{type:"submit",marginRight:8},"Save"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_7__.a,{type:"button",onClick:function(){return saveConsent(!0)},marginRight:8},"Allow all"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_7__.a,{type:"button",onClick:function(){return saveConsent(!1)}},"Deny all"))})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_11__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_10__.storiesOf)("ConsentManagerBuilder",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/2-category-based.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Category Based",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CategoryBased,null)}))}.call(this,__webpack_require__(34)(module))},1065:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),evergreen_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(407),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(406),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(408),evergreen_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_components_destination_tile__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(179),_storybook_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),_components_CookieView__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui'\nimport { ConsentManagerBuilder } from '../src'\nimport DestinationTile from './components/destination-tile'\nimport { storiesOf } from '@storybook/react'\nimport CookieView from './components/CookieView'\n\nfunction Section(props) {\n  return <Pane is=\"section\" marginBottom={24} {...props} />\n}\n\nconst ToolBased = () => {\n  return (\n    <Pane maxWidth={1000} margin={30}>\n      <ConsentManagerBuilder\n        writeKey=\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\"\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\n      >\n        {({ destinations, preferences, setPreferences, saveConsent }) => {\n          function handleSubmit(e) {\n            e.preventDefault()\n            saveConsent()\n          }\n\n          return (\n            <form onSubmit={handleSubmit}>\n              <Section>\n                <Heading>ACME Would like to track you with the following tools:</Heading>\n                <Ul display=\"flex\" flexWrap=\"wrap\">\n                  {destinations.map(d => (\n                    <DestinationTile\n                      key={d.id}\n                      destination={d}\n                      setPreferences={setPreferences}\n                      preferences={preferences}\n                    />\n                  ))}\n                </Ul>\n              </Section>\n\n              <Section>\n                <SubHeading>Preferences</SubHeading>\n                <Code>{JSON.stringify(preferences)}</Code>\n              </Section>\n\n              <Button type=\"submit\" marginRight={8}>\n                Save\n              </Button>\n\n              <Button type=\"button\" onClick={() => saveConsent(true)} marginRight={8}>\n                Allow all\n              </Button>\n\n              <Button type=\"button\" onClick={() => saveConsent(false)}>\n                Deny all\n              </Button>\n            </form>\n          )\n        }}\n      </ConsentManagerBuilder>\n\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('ConsentManagerBuilder', module).add(`Tool Based`, () => <ToolBased />)\n",__ADDS_MAP__={};function Section(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,__assign({is:"section",marginBottom:24},props))}var ToolBased=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{maxWidth:1e3,margin:30},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_7__.b,{writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"]},(function(_a){var destinations=_a.destinations,preferences=_a.preferences,setPreferences=_a.setPreferences,saveConsent=_a.saveConsent;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form",{onSubmit:function handleSubmit(e){e.preventDefault(),saveConsent()}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,"ACME Would like to track you with the following tools:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,{display:"flex",flexWrap:"wrap"},destinations.map((function(d){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_destination_tile__WEBPACK_IMPORTED_MODULE_8__.a,{key:d.id,destination:d,setPreferences:setPreferences,preferences:preferences})})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Section,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,null,"Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,null,JSON.stringify(preferences))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__.a,{type:"submit",marginRight:8},"Save"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__.a,{type:"button",onClick:function(){return saveConsent(!0)},marginRight:8},"Allow all"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__.a,{type:"button",onClick:function(){return saveConsent(!1)}},"Deny all"))})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_10__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_9__.storiesOf)("ConsentManagerBuilder",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/3-tool-based.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Tool Based",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToolBased,null)}))}.call(this,__webpack_require__(34)(module))},1066:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),evergreen_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_src_consent_manager__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(100),_components_common_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(55),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),_components_CookieView__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { Pane, Button } from 'evergreen-ui'\nimport { storiesOf } from '@storybook/react'\nimport ConsentManager from '../src/consent-manager'\nimport * as common from './components/common-react'\nimport { openConsentManager } from '../src'\nimport CookieView from './components/CookieView'\n\nconst initialPreferences = {\n  advertising: false,\n  marketingAndAnalytics: true,\n  functional: true\n}\n\nconst Custom = () => {\n  return (\n    <Pane maxWidth={1000} margin={30}>\n      <ConsentManager\n        writeKey=\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\"\n        initialPreferences={initialPreferences}\n        shouldRequireConsent={() => true}\n        {...common}\n      />\n\n      <Button marginRight={20} onClick={openConsentManager}>\n        Change Cookie Preferences\n      </Button>\n\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('Advanced Use Cases', module).add(`Partial consent`, () => <Custom />)\n",__ADDS_MAP__={},initialPreferences={advertising:!1,marketingAndAnalytics:!0,functional:!0},Custom=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{maxWidth:1e3,margin:30},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_consent_manager__WEBPACK_IMPORTED_MODULE_4__.a,__assign({writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",initialPreferences:initialPreferences,shouldRequireConsent:function(){return!0}},_components_common_react__WEBPACK_IMPORTED_MODULE_5__)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_6__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_7__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Advanced Use Cases",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/4-custom-consent.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Partial consent",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Custom,null)}))}.call(this,__webpack_require__(34)(module))},1067:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76),_components_CookieView__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport cookies from 'js-cookie'\nimport { Pane, Heading, Button } from 'evergreen-ui'\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\nimport { storiesOf } from '@storybook/react'\nimport { CloseBehavior, CloseBehaviorFunction } from '../src/consent-manager/container'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\nimport { Preferences } from '../src/types'\nimport CookieView from './components/CookieView'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = 'You can manage your preferences here!'\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{' '}\n      <a\n        href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = 'Are you sure you want to cancel?'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerExample = (props: { closeBehavior: CloseBehavior | CloseBehaviorFunction }) => {\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\n\n  const cleanup = onPreferencesSaved(preferences => {\n    updatePrefs(preferences)\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cleanup()\n    }\n  })\n\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey=\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\"\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n        closeBehavior={props.closeBehavior}\n        customCategories={{\n          'Do Not Sell': {\n            integrations: ['AdWords'],\n            purpose: 'To give the right to opt out of the sale of personal data.'\n          }\n        }}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Cute Cats </Heading>\n        <Pane display=\"flex\">\n          <iframe\n            src=\"https://giphy.com/embed/JIX9t2j0ZTN9S\"\n            width=\"480\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n\n          <iframe\n            src=\"https://giphy.com/embed/yFQ0ywscgobJK\"\n            width=\"398\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n        </Pane>\n\n        <p>\n          <div>\n            <Heading>Current Preferences</Heading>\n            <SyntaxHighlighter language=\"json\" style={docco}>\n              {JSON.stringify(prefs, null, 2)}\n            </SyntaxHighlighter>\n          </div>\n          <Button marginRight={20} onClick={openConsentManager}>\n            Change Cookie Preferences\n          </Button>\n          <Button\n            onClick={() => {\n              cookies.remove('tracking-preferences')\n              window.location.reload()\n            }}\n          >\n            Clear\n          </Button>\n        </p>\n      </Pane>\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('Custom Categories - Do Not Sell', module)\n  .add(`Dismiss`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DISMISS} />)\n  .add(`Accept`, () => <ConsentManagerExample closeBehavior={CloseBehavior.ACCEPT} />)\n  .add(`Deny`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DENY} />)\n  .add(`Custom Close Behavior`, () => (\n    <ConsentManagerExample\n      closeBehavior={categories => ({\n        ...categories,\n        'Do Not Sell': false\n      })}\n    />\n  ))\n",__ADDS_MAP__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerExample=function(props){var _a=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(Object(_src__WEBPACK_IMPORTED_MODULE_5__.a)()),prefs=_a[0],updatePrefs=_a[1],cleanup=Object(_src__WEBPACK_IMPORTED_MODULE_5__.b)((function(preferences){updatePrefs(preferences)}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect((function(){return function(){cleanup()}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"],bannerContent:bannerContent,bannerSubContent:"You can manage your preferences here!",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent,closeBehavior:props.closeBehavior,customCategories:{"Do Not Sell":{integrations:["AdWords"],purpose:"To give the right to opt out of the sale of personal data."}}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Cute Cats "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"Current Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__.a},JSON.stringify(prefs,null,2))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_7__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_11__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Custom Categories - Do Not Sell",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/5-custom-categories.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Dismiss",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"dismiss"})})).add("Accept",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"accept"})})).add("Deny",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"deny"})})).add("Custom Close Behavior",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:function(categories){return __assign(__assign({},categories),{"Do Not Sell":!1})}})}))}.call(this,__webpack_require__(34)(module))},1068:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(182),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76),_components_CookieView__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(12),_segment_in_regions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74),_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_segment_in_regions__WEBPACK_IMPORTED_MODULE_13__),withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport cookies from 'js-cookie'\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui'\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\nimport { storiesOf } from '@storybook/react'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\nimport { Preferences } from '../src/types'\nimport CookieView from './components/CookieView'\nimport inRegions from '@segment/in-regions'\nimport { CloseBehavior } from '../src/consent-manager/container'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = 'You can manage your preferences here!'\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{' '}\n      <a\n        href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = 'Are you sure you want to cancel?'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerExample = () => {\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\n\n  const cleanup = onPreferencesSaved(preferences => {\n    updatePrefs(preferences)\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cleanup()\n    }\n  })\n\n  const inCA = inRegions(['CA'])\n  const inEU = inRegions(['EU'])\n  const shouldRequireConsent = inRegions(['CA', 'EU'])\n  const caDefaultPreferences = {\n    advertising: false,\n    marketingAndAnalytics: true,\n    functional: true\n  }\n  const euDefaultPreferences = {\n    advertising: false,\n    marketingAndAnalytics: false,\n    functional: false\n  }\n\n  const closeBehavior = inCA()\n    ? _categories => caDefaultPreferences\n    : inEU()\n      ? CloseBehavior.DENY\n      : CloseBehavior.ACCEPT\n\n  const initialPreferences = inCA()\n    ? caDefaultPreferences\n    : inEU()\n      ? euDefaultPreferences\n      : undefined\n\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey=\"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU\"\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n        closeBehavior={closeBehavior}\n        shouldRequireConsent={shouldRequireConsent}\n        initialPreferences={initialPreferences}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Cute Cats </Heading>\n        <Pane display=\"flex\">\n          <iframe\n            src=\"https://giphy.com/embed/JIX9t2j0ZTN9S\"\n            width=\"480\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n\n          <iframe\n            src=\"https://giphy.com/embed/yFQ0ywscgobJK\"\n            width=\"398\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n        </Pane>\n        <Button onClick={() => window.analytics.track('Send Track Event Clicked')}>\n          Send Track Event\n        </Button>\n\n        <Paragraph marginTop={20}>\n          This example highlights checking for EU or CA residency, then changing the closeBehavior\n          based on membership in each.\n        </Paragraph>\n        <p>\n          <div>\n            <Heading>Current Preferences</Heading>\n            <SyntaxHighlighter language=\"json\" style={docco}>\n              {JSON.stringify(prefs, null, 2)}\n            </SyntaxHighlighter>\n          </div>\n          <Button marginRight={20} onClick={openConsentManager}>\n            Change Cookie Preferences\n          </Button>\n          <Button\n            onClick={() => {\n              cookies.remove('tracking-preferences')\n              window.location.reload()\n            }}\n          >\n            Clear\n          </Button>\n        </p>\n      </Pane>\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('CCPA + GDPR Example', module).add(`Basic`, () => <ConsentManagerExample />)\n",__ADDS_MAP__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerExample=function(){var _a=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(Object(_src__WEBPACK_IMPORTED_MODULE_6__.a)()),prefs=_a[0],updatePrefs=_a[1],cleanup=Object(_src__WEBPACK_IMPORTED_MODULE_6__.b)((function(preferences){updatePrefs(preferences)}));react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect((function(){return function(){cleanup()}}));var inCA=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["CA"]),inEU=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["EU"]),shouldRequireConsent=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["CA","EU"]),caDefaultPreferences={advertising:!1,marketingAndAnalytics:!0,functional:!0},closeBehavior=inCA()?function(_categories){return caDefaultPreferences}:inEU()?"deny":"accept",initialPreferences=inCA()?caDefaultPreferences:inEU()?{advertising:!1,marketingAndAnalytics:!1,functional:!1}:void 0;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_7__.a,{writeKey:"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU",bannerContent:bannerContent,bannerSubContent:"You can manage your preferences here!",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent,closeBehavior:closeBehavior,shouldRequireConsent:shouldRequireConsent,initialPreferences:initialPreferences}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Cute Cats "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){return window.analytics.track("Send Track Event Clicked")}},"Send Track Event"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{marginTop:20},"This example highlights checking for EU or CA residency, then changing the closeBehavior based on membership in each."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"Current Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_11__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_10__.a},JSON.stringify(prefs,null,2))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_8__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_12__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_9__.storiesOf)("CCPA + GDPR Example",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/6-ccpa-gdpr-example.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Basic",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,null)}))}.call(this,__webpack_require__(34)(module))},1074:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),evergreen_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(182),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76),_components_CookieView__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),withSourceLoader=__webpack_require__(41).withSource,__SOURCE_PREFIX__="/Users/chi_yue/dev/tilda/consent-manager/stories",__STORY__='import React from \'react\'\nimport { Pane, Heading, Paragraph, Button } from \'evergreen-ui\'\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from \'../src\'\nimport { storiesOf } from \'@storybook/react\'\nimport { docco } from \'react-syntax-highlighter/dist/esm/styles/hljs\'\nimport SyntaxHighlighter from \'react-syntax-highlighter\'\nimport { Preferences, DefaultDestinationBehavior } from \'../src/types\'\nimport CookieView from \'./components/CookieView\'\nimport { CloseBehavior } from \'../src/consent-manager/container\'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = \'You can manage your preferences here!\'\nconst preferencesDialogTitle = \'Website Data Collection Preferences\'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{\' \'}\n      <a\n        href="https://segment.com/docs/legal/website-data-collection-policy/"\n        target="_blank"\n        rel="noopener noreferrer"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = \'Are you sure you want to cancel?\'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerExample = (props: {\n  defaultDestinationBehavior: DefaultDestinationBehavior\n}) => {\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\n\n  const cleanup = onPreferencesSaved(preferences => {\n    updatePrefs(preferences)\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cleanup()\n    }\n  })\n\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey="VeSvGsFntmbyoQ3wh9FJphKGpPNW2paD"\n        otherWriteKeys={[]}\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n        closeBehavior={CloseBehavior.ACCEPT}\n        defaultDestinationBehavior={props.defaultDestinationBehavior}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Cute Cats </Heading>\n        <Pane display="flex">\n          <iframe\n            src="https://giphy.com/embed/JIX9t2j0ZTN9S"\n            width="480"\n            height="480"\n            frameBorder="0"\n          />\n\n          <iframe\n            src="https://giphy.com/embed/yFQ0ywscgobJK"\n            width="398"\n            height="480"\n            frameBorder="0"\n          />\n        </Pane>\n\n        <Paragraph marginTop={20}>\n          This example highlights default destination behavior. The cookie set is missing a\n          destination that is enabled on the source, imitating a newly added destination. In the\n          console, verify behavior by looking at analytics.options.\n        </Paragraph>\n        <p>\n          <div>\n            <Heading>Current Preferences</Heading>\n            <SyntaxHighlighter language="json" style={docco}>\n              {JSON.stringify(prefs, null, 2)}\n            </SyntaxHighlighter>\n          </div>\n          <Button marginRight={20} onClick={openConsentManager}>\n            Change Cookie Preferences\n          </Button>\n          <Button\n            onClick={() => {\n              window.location.reload()\n            }}\n          >\n            Reset Example\n          </Button>\n        </p>\n      </Pane>\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf(\'Default Destination Behavior\', module).add(`disable`, () => (\n  <ConsentManagerExample defaultDestinationBehavior="disable" />\n))\nstoriesOf(\'Default Destination Behavior\', module).add(`enable`, () => (\n  <ConsentManagerExample defaultDestinationBehavior="enable" />\n))\nstoriesOf(\'Default Destination Behavior\', module).add(`imply`, () => (\n  <ConsentManagerExample defaultDestinationBehavior="imply" />\n))\nstoriesOf(\'Default Destination Behavior\', module).add(`ask`, () => (\n  <ConsentManagerExample defaultDestinationBehavior="ask" />\n))\n',__ADDS_MAP__={},__MAIN_FILE_LOCATION__="/7-default-destination-behavior.stories.tsx",__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerExample=function(props){var _a=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(Object(_src__WEBPACK_IMPORTED_MODULE_5__.a)()),prefs=_a[0],updatePrefs=_a[1],cleanup=Object(_src__WEBPACK_IMPORTED_MODULE_5__.b)((function(preferences){updatePrefs(preferences)}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect((function(){return function(){cleanup()}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{writeKey:"VeSvGsFntmbyoQ3wh9FJphKGpPNW2paD",otherWriteKeys:[],bannerContent:bannerContent,bannerSubContent:"You can manage your preferences here!",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent,closeBehavior:"accept",defaultDestinationBehavior:props.defaultDestinationBehavior}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null," Cute Cats "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,{marginTop:20},"This example highlights default destination behavior. The cookie set is missing a destination that is enabled on the source, imitating a newly added destination. In the console, verify behavior by looking at analytics.options."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,"Current Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__.a},JSON.stringify(prefs,null,2))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_7__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){window.location.reload()}},"Reset Example"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_11__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Default Destination Behavior",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,__MAIN_FILE_LOCATION__,__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__)).add("disable",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{defaultDestinationBehavior:"disable"})})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Default Destination Behavior",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,__MAIN_FILE_LOCATION__,__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__)).add("enable",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{defaultDestinationBehavior:"enable"})})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Default Destination Behavior",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,__MAIN_FILE_LOCATION__,__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__)).add("imply",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{defaultDestinationBehavior:"imply"})})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("Default Destination Behavior",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,__MAIN_FILE_LOCATION__,__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__)).add("ask",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{defaultDestinationBehavior:"ask"})}))}.call(this,__webpack_require__(34)(module))},1075:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(182),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(18),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76),_components_CookieView__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(12),_segment_in_regions__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74),_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_segment_in_regions__WEBPACK_IMPORTED_MODULE_13__),withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport cookies from 'js-cookie'\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui'\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\nimport { storiesOf } from '@storybook/react'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\nimport SyntaxHighlighter from 'react-syntax-highlighter'\nimport { Preferences } from '../src/types'\nimport CookieView from './components/CookieView'\nimport inRegions from '@segment/in-regions'\nimport { CloseBehavior } from '../src/consent-manager/container'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = 'You can manage your preferences here!'\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{' '}\n      <a\n        href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = 'Are you sure you want to cancel?'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{' '}\n    <a\n      href=\"https://segment.com/docs/legal/website-data-collection-policy/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerMixpanel = (props: { enabled: boolean }) => {\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\n\n  const cleanup = onPreferencesSaved(preferences => {\n    updatePrefs(preferences)\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cleanup()\n    }\n  })\n\n  const inCA = inRegions(['CA'])\n  const inEU = inRegions(['EU'])\n  const shouldRequireConsent = inRegions(['CA', 'EU'])\n  const caDefaultPreferences = {\n    advertising: false,\n    marketingAndAnalytics: true,\n    functional: true\n  }\n  const euDefaultPreferences = {\n    advertising: false,\n    marketingAndAnalytics: false,\n    functional: false\n  }\n\n  const closeBehavior = inCA()\n    ? _categories => caDefaultPreferences\n    : inEU()\n    ? CloseBehavior.DENY\n    : CloseBehavior.ACCEPT\n\n  const initialPreferences = inCA()\n    ? caDefaultPreferences\n    : inEU()\n    ? euDefaultPreferences\n    : undefined\n\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey=\"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU\"\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n        closeBehavior={closeBehavior}\n        shouldRequireConsent={shouldRequireConsent}\n        initialPreferences={initialPreferences}\n        mixpanelToken=\"7b189d5f466a3d0a3027c71d1726fa18\"\n        mixpanelTracking={props.enabled}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Cute Cats </Heading>\n        <Pane display=\"flex\">\n          <iframe\n            src=\"https://giphy.com/embed/JIX9t2j0ZTN9S\"\n            width=\"480\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n\n          <iframe\n            src=\"https://giphy.com/embed/yFQ0ywscgobJK\"\n            width=\"398\"\n            height=\"480\"\n            frameBorder=\"0\"\n          />\n        </Pane>\n        <Button onClick={() => window.analytics.track('Send Track Event Clicked')}>\n          Send Track Event\n        </Button>\n\n        <Paragraph marginTop={20}>\n          This example is to show the custom events we track with Mixpanel.\n        </Paragraph>\n        <p>\n          <div>\n            <Heading>Current Preferences</Heading>\n            <SyntaxHighlighter language=\"json\" style={docco}>\n              {JSON.stringify(prefs, null, 2)}\n            </SyntaxHighlighter>\n          </div>\n          <Button marginRight={20} onClick={openConsentManager}>\n            Change Cookie Preferences\n          </Button>\n          <Button\n            onClick={() => {\n              cookies.remove('tracking-preferences')\n              window.location.reload()\n            }}\n          >\n            Clear\n          </Button>\n        </p>\n      </Pane>\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('Mixpanel custom events', module)\n  .add(`Tracking enabled`, () => <ConsentManagerMixpanel enabled={true} />)\n  .add(`Tracking disabled`, () => <ConsentManagerMixpanel enabled={false} />)\n",__ADDS_MAP__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerMixpanel=function(props){var _a=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(Object(_src__WEBPACK_IMPORTED_MODULE_6__.a)()),prefs=_a[0],updatePrefs=_a[1],cleanup=Object(_src__WEBPACK_IMPORTED_MODULE_6__.b)((function(preferences){updatePrefs(preferences)}));react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect((function(){return function(){cleanup()}}));var inCA=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["CA"]),inEU=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["EU"]),shouldRequireConsent=_segment_in_regions__WEBPACK_IMPORTED_MODULE_13___default()(["CA","EU"]),caDefaultPreferences={advertising:!1,marketingAndAnalytics:!0,functional:!0},closeBehavior=inCA()?function(_categories){return caDefaultPreferences}:inEU()?"deny":"accept",initialPreferences=inCA()?caDefaultPreferences:inEU()?{advertising:!1,marketingAndAnalytics:!1,functional:!1}:void 0;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_7__.a,{writeKey:"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU",bannerContent:bannerContent,bannerSubContent:"You can manage your preferences here!",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent,closeBehavior:closeBehavior,shouldRequireConsent:shouldRequireConsent,initialPreferences:initialPreferences,mixpanelToken:"7b189d5f466a3d0a3027c71d1726fa18",mixpanelTracking:props.enabled}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Cute Cats "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){return window.analytics.track("Send Track Event Clicked")}},"Send Track Event"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{marginTop:20},"This example is to show the custom events we track with Mixpanel."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"Current Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_11__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_10__.a},JSON.stringify(prefs,null,2))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_8__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_12__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_9__.storiesOf)("Mixpanel custom events",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/8-mixpanel-custom-events.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Tracking enabled",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerMixpanel,{enabled:!0})})).add("Tracking disabled",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerMixpanel,{enabled:!1})}))}.call(this,__webpack_require__(34)(module))},1076:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),evergreen_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_src_consent_manager__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(100),_components_common_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(55),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(35),_components_CookieView__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__="import React from 'react'\nimport { Pane, Button } from 'evergreen-ui'\nimport { storiesOf } from '@storybook/react'\nimport ConsentManager from '../src/consent-manager'\nimport * as common from './components/common-react'\nimport { openConsentManager } from '../src'\nimport CookieView from './components/CookieView'\n\nconst initialPreferences = {\n  advertising: false,\n  marketingAndAnalytics: false,\n  functional: false\n}\n\nconst Custom = () => {\n  return (\n    <Pane maxWidth={1000} margin={30}>\n      <ConsentManager\n        writeKey=\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\"\n        initialPreferences={initialPreferences}\n        shouldRequireConsent={() => true}\n        bannerHeading={\n          <>\n            Diese Cookies{' '}\n            <span role=\"img\" aria-label=\"cookie\">\n              🍪\n            </span>{' '}\n            haben null Kalorien.\n          </>\n        }\n        {...common}\n      />\n\n      <Button marginRight={20} onClick={openConsentManager}>\n        Change Cookie Preferences\n      </Button>\n\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf('Heading', module).add(`Basic`, () => <Custom />)\n",__ADDS_MAP__={},initialPreferences={advertising:!1,marketingAndAnalytics:!1,functional:!1},Custom=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{maxWidth:1e3,margin:30},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_consent_manager__WEBPACK_IMPORTED_MODULE_4__.a,__assign({writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",initialPreferences:initialPreferences,shouldRequireConsent:function(){return!0},bannerHeading:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,"Diese Cookies"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{role:"img","aria-label":"cookie"},"🍪")," ","haben null Kalorien.")},_components_common_react__WEBPACK_IMPORTED_MODULE_5__)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_6__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_7__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Heading",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/9-heading.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Basic",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Custom,null)}))}.call(this,__webpack_require__(34)(module))},12:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),evergreen_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),js_cookie__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_4__),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76);__webpack_exports__.a=function(){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.getJSON()),cookieVal=_a[0],updateCookieVal=_a[1];return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var clear=setInterval((function(){updateCookieVal(js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.getJSON())}),1e3);return function(){return clearInterval(clear)}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_1__.a,{marginTop:30},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,"Cookies:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_6__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_5__.a},JSON.stringify(cookieVal,null,2)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,{onClick:function(){var allCookies=js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.getJSON();Object.keys(allCookies).forEach((function(key){js_cookie__WEBPACK_IMPORTED_MODULE_4___default.a.remove(key)})),window.location.reload()}},"Clear 🧹🍪"))}},16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ConsentManagerBuilder})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ConsentManager}));var _consent_manager_builder__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(180),_consent_manager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(100),ConsentManagerBuilder=_consent_manager_builder__WEBPACK_IMPORTED_MODULE_0__.a,ConsentManager=_consent_manager__WEBPACK_IMPORTED_MODULE_1__.a},179:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Destination}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1079),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1080),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1081),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1082),evergreen_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20);function Destination(_a){var destination=_a.destination,preferences=_a.preferences,setPreferences=_a.setPreferences;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{maxWidth:280,marginRight:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,{elevation:1,padding:20,paddingTop:8},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{label:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{href:destination.website,target:"_blank"},destination.name),checked:Boolean(preferences[destination.id]),onChange:function(){var _a;return setPreferences(((_a={})[destination.id]=!preferences[destination.id],_a))}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_6__.a,{display:"block",size:300},destination.description)))}Destination.propTypes={destination:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,preferences:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,setPreferences:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired}},18:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return loadPreferences})),__webpack_require__.d(__webpack_exports__,"b",(function(){return onPreferencesSaved})),__webpack_require__.d(__webpack_exports__,"c",(function(){return savePreferences}));var js_cookie__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_0__),_segment_top_domain__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(397),_segment_top_domain__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_segment_top_domain__WEBPACK_IMPORTED_MODULE_1__),events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(177),COOKIE_KEY="tracking-preferences",COOKIE_EXPIRES=365;function loadPreferences(){var preferences=js_cookie__WEBPACK_IMPORTED_MODULE_0___default.a.getJSON(COOKIE_KEY);return preferences?{destinationPreferences:preferences.destinations,customPreferences:preferences.custom}:{}}var emitter=new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;function onPreferencesSaved(listener){return emitter.on("preferencesSaved",listener),function(){return emitter.off("preferencesSaved",listener)}}function savePreferences(_a){var destinationPreferences=_a.destinationPreferences,customPreferences=_a.customPreferences,cookieDomain=_a.cookieDomain,wd=window;wd.analytics&&wd.analytics.identify({destinationTrackingPreferences:destinationPreferences,customTrackingPreferences:customPreferences});var domain=cookieDomain||_segment_top_domain__WEBPACK_IMPORTED_MODULE_1___default()(window.location.href),value={version:1,destinations:destinationPreferences,custom:customPreferences};js_cookie__WEBPACK_IMPORTED_MODULE_0___default.a.set(COOKIE_KEY,value,{expires:COOKIE_EXPIRES,domain:domain}),emitter.emit("preferencesSaved",{destinationPreferences:destinationPreferences,customPreferences:customPreferences})}},180:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),mixpanel_cjs=__webpack_require__(73),mixpanel_cjs_default=__webpack_require__.n(mixpanel_cjs),consent_manager_builder_preferences=__webpack_require__(18),fetch_npm_browserify=__webpack_require__(398),fetch_npm_browserify_default=__webpack_require__.n(fetch_npm_browserify),lodash=__webpack_require__(102),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};function fetchDestinationForWriteKey(cdnHost,writeKey){return __awaiter(this,void 0,void 0,(function(){var res,destinations,_i,destinations_1,destination;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,fetch_npm_browserify_default()("https://"+cdnHost+"/v1/projects/"+writeKey+"/integrations")];case 1:if(!(res=_a.sent()).ok)throw new Error("Failed to fetch integrations for write key "+writeKey+": HTTP "+res.status+" "+res.statusText);return[4,res.json()];case 2:for(destinations=_a.sent(),_i=0,destinations_1=destinations;_i<destinations_1.length;_i++)(destination=destinations_1[_i]).id=destination.creationName,delete destination.creationName;return[2,destinations]}}))}))}function fetchDestinations(cdnHost,writeKeys){return __awaiter(this,void 0,void 0,(function(){var destinationsRequests,_i,writeKeys_1,writeKey,destinations,_a;return __generator(this,(function(_b){switch(_b.label){case 0:for(destinationsRequests=[],_i=0,writeKeys_1=writeKeys;_i<writeKeys_1.length;_i++)writeKey=writeKeys_1[_i],destinationsRequests.push(fetchDestinationForWriteKey(cdnHost,writeKey));return _a=lodash.flatten,[4,Promise.all(destinationsRequests)];case 1:return destinations=(destinations=_a.apply(void 0,[_b.sent()])).filter((function(d){return"Repeater"!==d.id})),destinations=Object(lodash.sortBy)(destinations,["id"]),[2,destinations=Object(lodash.sortedUniqBy)(destinations,"id")]}}))}))}function conditionallyLoadAnalytics(_a){var writeKey=_a.writeKey,destinations=_a.destinations,destinationPreferences=_a.destinationPreferences,isConsentRequired=_a.isConsentRequired,_b=_a.shouldReload,shouldReload=void 0===_b||_b,defaultDestinationBehavior=_a.defaultDestinationBehavior,categoryPreferences=_a.categoryPreferences,wd=window,integrations={All:!1,"Segment.io":!0},isAnythingEnabled=!1;if(destinationPreferences){for(var _i=0,destinations_1=destinations;_i<destinations_1.length;_i++){var destination=destinations_1[_i];if(destination.id in destinationPreferences||"enable"!==defaultDestinationBehavior){var isEnabled=Boolean(destinationPreferences[destination.id]);isEnabled&&(isAnythingEnabled=!0),integrations[destination.id]=isEnabled}else integrations[destination.id]=!0}if(wd.analytics&&wd.analytics.initialized)shouldReload&&window.location.reload();else if(isAnythingEnabled){var middleware=function getConsentMiddleware(destinationPreferences,categoryPreferences,defaultDestinationBehavior){return function(_a){var payload=_a.payload,next=_a.next;payload.obj.context.consent={defaultDestinationBehavior:defaultDestinationBehavior,categoryPreferences:categoryPreferences,destinationPreferences:destinationPreferences},next(payload)}}(destinationPreferences,categoryPreferences,defaultDestinationBehavior);wd.analytics.addSourceMiddleware(middleware),wd.analytics.load(writeKey,{integrations:integrations})}}else{if(isConsentRequired)return;wd.analytics.initialized||wd.analytics.load(writeKey)}}var extendStatics,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},consent_manager_builder_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},consent_manager_builder_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};function getNewDestinations(destinations,preferences){var newDestinations=[];if(!preferences)return destinations;for(var _i=0,destinations_1=destinations;_i<destinations_1.length;_i++){var destination=destinations_1[_i];void 0===preferences[destination.id]&&newDestinations.push(destination)}return newDestinations}var consent_manager_builder_ConsentManagerBuilder=function(_super){function ConsentManagerBuilder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.state={isLoading:!0,destinations:[],newDestinations:[],preferences:{},destinationPreferences:{},isConsentRequired:!0,havePreferencesChanged:!1,workspaceAddedNewDestinations:!1},_this.initialise=function(){return consent_manager_builder_awaiter(_this,void 0,void 0,(function(){var _a,writeKey,_b,otherWriteKeys,_c,shouldRequireConsent,initialPreferences,mapCustomPreferences,defaultDestinationBehavior,cookieDomain,_d,cdnHost,_e,destinationPreferences,customPreferences,_f,isConsentRequired,destinations,newDestinations,workspaceAddedNewDestinations,preferences,hasInitialPreferenceToTrue,emptyCustomPreferecences,mapped;return consent_manager_builder_generator(this,(function(_g){switch(_g.label){case 0:return this.props.mixpanelTracking&&mixpanel_cjs_default.a.track("banner_viewed"),_a=this.props,writeKey=_a.writeKey,_b=_a.otherWriteKeys,otherWriteKeys=void 0===_b?ConsentManagerBuilder.defaultProps.otherWriteKeys:_b,_c=_a.shouldRequireConsent,shouldRequireConsent=void 0===_c?ConsentManagerBuilder.defaultProps.shouldRequireConsent:_c,initialPreferences=_a.initialPreferences,mapCustomPreferences=_a.mapCustomPreferences,defaultDestinationBehavior=_a.defaultDestinationBehavior,cookieDomain=_a.cookieDomain,_d=_a.cdnHost,cdnHost=void 0===_d?ConsentManagerBuilder.defaultProps.cdnHost:_d,_e=Object(consent_manager_builder_preferences.a)(),destinationPreferences=_e.destinationPreferences,customPreferences=_e.customPreferences,[4,Promise.all([shouldRequireConsent(),fetchDestinations(cdnHost,__spreadArrays([writeKey],otherWriteKeys))])];case 1:return _f=_g.sent(),isConsentRequired=_f[0],destinations=_f[1],newDestinations=getNewDestinations(destinations,destinationPreferences||{}),workspaceAddedNewDestinations=destinationPreferences&&Object.keys(destinationPreferences).length>0&&newDestinations.length>0,mapCustomPreferences?(preferences=customPreferences||initialPreferences||{},hasInitialPreferenceToTrue=Object.values(initialPreferences||{}).some(Boolean),emptyCustomPreferecences=Object.values(customPreferences||{}).every((function(v){return null==v})),(hasInitialPreferenceToTrue&&emptyCustomPreferecences||"imply"===defaultDestinationBehavior&&workspaceAddedNewDestinations)&&(mapped=mapCustomPreferences(destinations,preferences),destinationPreferences=mapped.destinationPreferences,customPreferences=mapped.customPreferences,Object(consent_manager_builder_preferences.c)({destinationPreferences:destinationPreferences,customPreferences:customPreferences,cookieDomain:cookieDomain}))):preferences=destinationPreferences||initialPreferences,conditionallyLoadAnalytics({writeKey:writeKey,destinations:destinations,destinationPreferences:destinationPreferences,isConsentRequired:isConsentRequired,defaultDestinationBehavior:defaultDestinationBehavior,categoryPreferences:preferences}),this.setState({isLoading:!1,destinations:destinations,newDestinations:newDestinations,preferences:preferences,isConsentRequired:isConsentRequired,destinationPreferences:destinationPreferences,workspaceAddedNewDestinations:Boolean(workspaceAddedNewDestinations)}),[2]}}))}))},_this.handleSetPreferences=function(newPreferences){_this.setState((function(prevState){var destinations=prevState.destinations,existingPreferences=prevState.preferences,preferences=_this.mergePreferences({destinations:destinations,newPreferences:newPreferences,existingPreferences:existingPreferences});return __assign(__assign({},prevState),{preferences:preferences,havePreferencesChanged:!0})}))},_this.handleResetPreferences=function(){var preferences,_a=_this.props,initialPreferences=_a.initialPreferences,mapCustomPreferences=_a.mapCustomPreferences,_b=Object(consent_manager_builder_preferences.a)(),destinationPreferences=_b.destinationPreferences,customPreferences=_b.customPreferences;preferences=mapCustomPreferences?customPreferences||initialPreferences:destinationPreferences||initialPreferences,_this.setState({preferences:preferences})},_this.handleSaveConsent=function(newPreferences,shouldReload){var _a=_this.props,writeKey=_a.writeKey,cookieDomain=_a.cookieDomain,mapCustomPreferences=_a.mapCustomPreferences,defaultDestinationBehavior=_a.defaultDestinationBehavior;_this.setState((function(prevState){var destinationPreferences,customPreferences,destinations=prevState.destinations,existingPreferences=prevState.preferences,isConsentRequired=prevState.isConsentRequired,preferences=_this.mergePreferences({destinations:destinations,newPreferences:newPreferences,existingPreferences:existingPreferences});if(mapCustomPreferences){var custom=mapCustomPreferences(destinations,preferences);destinationPreferences=custom.destinationPreferences,(customPreferences=custom.customPreferences)?preferences=customPreferences:customPreferences=preferences}else destinationPreferences=preferences;var newDestinations=getNewDestinations(destinations,destinationPreferences),preferenceCookie=Object(consent_manager_builder_preferences.a)(),hasPreferenceCookie=preferenceCookie&&Object.keys(preferenceCookie).length>0;return(prevState.havePreferencesChanged||newDestinations.length>0||!hasPreferenceCookie)&&(Object(consent_manager_builder_preferences.c)({destinationPreferences:destinationPreferences,customPreferences:customPreferences,cookieDomain:cookieDomain}),conditionallyLoadAnalytics({writeKey:writeKey,destinations:destinations,destinationPreferences:destinationPreferences,isConsentRequired:isConsentRequired,shouldReload:shouldReload,defaultDestinationBehavior:defaultDestinationBehavior,categoryPreferences:customPreferences})),__assign(__assign({},prevState),{destinationPreferences:destinationPreferences,preferences:preferences,newDestinations:newDestinations})}))},_this.mergePreferences=function(args){var preferences,destinations=args.destinations,existingPreferences=args.existingPreferences,newPreferences=args.newPreferences;if("boolean"==typeof newPreferences){for(var destinationPreferences={},_i=0,destinations_2=destinations;_i<destinations_2.length;_i++){destinationPreferences[destinations_2[_i].id]=newPreferences}preferences=destinationPreferences}else preferences=newPreferences?__assign(__assign({},existingPreferences),newPreferences):existingPreferences;return preferences},_this}return __extends(ConsentManagerBuilder,_super),ConsentManagerBuilder.prototype.render=function(){var _a=this.props,children=_a.children,customCategories=_a.customCategories,_b=this.state,isLoading=_b.isLoading,destinations=_b.destinations,preferences=_b.preferences,newDestinations=_b.newDestinations,isConsentRequired=_b.isConsentRequired,havePreferencesChanged=_b.havePreferencesChanged,workspaceAddedNewDestinations=_b.workspaceAddedNewDestinations,destinationPreferences=_b.destinationPreferences;return isLoading?null:children({destinations:destinations,customCategories:customCategories,newDestinations:newDestinations,preferences:preferences,isConsentRequired:isConsentRequired,havePreferencesChanged:havePreferencesChanged,workspaceAddedNewDestinations:workspaceAddedNewDestinations,destinationPreferences:destinationPreferences,setPreferences:this.handleSetPreferences,resetPreferences:this.handleResetPreferences,saveConsent:this.handleSaveConsent})},ConsentManagerBuilder.prototype.componentDidMount=function(){return consent_manager_builder_awaiter(this,void 0,void 0,(function(){var onError,e_1;return consent_manager_builder_generator(this,(function(_a){switch(_a.label){case 0:if(!(onError=this.props.onError)||"function"!=typeof onError)return[3,6];_a.label=1;case 1:return _a.trys.push([1,3,,5]),[4,this.initialise()];case 2:return _a.sent(),[3,5];case 3:return e_1=_a.sent(),[4,onError(e_1)];case 4:return _a.sent(),[3,5];case 5:return[3,8];case 6:return[4,this.initialise()];case 7:_a.sent(),_a.label=8;case 8:return[2]}}))}))},ConsentManagerBuilder.displayName="ConsentManagerBuilder",ConsentManagerBuilder.defaultProps={otherWriteKeys:[],onError:void 0,shouldRequireConsent:function(){return!0},initialPreferences:{},cdnHost:"cdn.segment.com"},ConsentManagerBuilder}(react.Component);__webpack_exports__.a=consent_manager_builder_ConsentManagerBuilder},240:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="<html lang=\"en\">\n  <body>\n    <div id=\"consent-manager\"></div>\n    <img src=\"https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif\" />\n\n    <button\n      type=\"button\"\n      onclick=\"event.stopPropagation(); window.consentManager.openConsentManager()\"\n    >\n      Data Collection and Cookie Preferences\n    </button>\n\n    <script type=\"application/javascript\">\n      window.consentManagerConfig = function(exports) {\n        return {\n          container: '#consent-manager',\n          writeKey: 'tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0',\n          bannerContent:\n            'We use cookies (and other similar technologies) to collect data to improve your experience on our site.',\n          bannerSubContent: 'You can change your preferences at any time.',\n          preferencesDialogTitle: 'Website Data Collection Preferences',\n          preferencesDialogContent:\n            'We use data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.',\n          cancelDialogTitle: 'Are you sure you want to cancel?',\n          cancelDialogContent:\n            \"Your preferences have not been saved. By continuing to use our website, you're agreeing to our Website Data Collection Policy\",\n          closeBehavior: 'accept'\n        }\n      }\n    <\/script>\n\n    \x3c!-- Setup the Segment Consent Manager tag --\x3e\n    <script src=\"./standalone/consent-manager.js\" defer><\/script>\n\n    \x3c!-- Load analytics.js --\x3e\n    <script>\n      !(function() {\n        var analytics = (window.analytics = window.analytics || [])\n        if (!analytics.initialize)\n          if (analytics.invoked)\n            window.console && console.error && console.error('Segment snippet included twice.')\n          else {\n            analytics.invoked = !0\n            analytics.methods = [\n              'trackSubmit',\n              'trackClick',\n              'trackLink',\n              'trackForm',\n              'pageview',\n              'identify',\n              'reset',\n              'group',\n              'track',\n              'ready',\n              'alias',\n              'debug',\n              'page',\n              'once',\n              'off',\n              'on',\n              'addSourceMiddleware'\n            ]\n            analytics.factory = function(t) {\n              return function() {\n                var e = Array.prototype.slice.call(arguments)\n                e.unshift(t)\n                analytics.push(e)\n                return analytics\n              }\n            }\n            for (var t = 0; t < analytics.methods.length; t++) {\n              var e = analytics.methods[t]\n              analytics[e] = analytics.factory(e)\n            }\n            analytics.load = function(t, e) {\n              var n = document.createElement('script')\n              n.type = 'text/javascript'\n              n.async = !0\n              n.src =\n                ('https:' === document.location.protocol ? 'https://' : 'http://') +\n                'cdn.segment.com/analytics.js/v1/' +\n                t +\n                '/analytics.min.js'\n              var o = document.getElementsByTagName('script')[0]\n              o.parentNode.insertBefore(n, o)\n              analytics._loadOptions = e\n            }\n            analytics.SNIPPET_VERSION = '4.1.0'\n            analytics.page()\n          }\n      })()\n    <\/script>\n  </body>\n</html>\n"},241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="<html lang=\"en\">\n  <body>\n    <script type=\"application/javascript\">\n      window.consentManagerConfig = function(exports) {\n        exports.preferences.onPreferencesSaved(function(prefs) {\n          // could be used to store consent server side, or send it into an API\n        })\n\n        return {\n          container: '#consent-manager',\n          writeKey: 'n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU',\n          /* initialPreferences allows for customizing which categories already pre-loaded */\n          initialPreferences: {\n            marketingAndAnalytics: false,\n            // functional: true will automatically record consent for functional cookies\n            functional: true\n          },\n          /*\n      The consent manager ships with a lightweight version of \n      React (preact) that you can use to customize the consent manager further\n    */\n          bannerContent: exports.React.createElement('span', null, '🍪We like cookies 🍪'),\n          bannerSubContent: 'Change your preferences 👻',\n          preferencesDialogTitle: 'Website Data Collection',\n          preferencesDialogContent: 'We use data collected by cookies and JavaScript libraries.',\n          cancelDialogTitle: '🤔Are you sure you want to cancel?',\n          cancelDialogContent: 'Your preferences have not been saved.'\n        }\n      }\n    <\/script>\n\n    <div id=\"consent-manager\"></div>\n\n    <div>\n      <img src=\"http://giphygifs.s3.amazonaws.com/media/13HBDT4QSTpveU/giphy.gif\" />\n    </div>\n\n    <button\n      type=\"button\"\n      onclick=\"event.stopPropagation(); window.consentManager.openConsentManager()\"\n    >\n      Data Collection and Cookie Preferences\n    </button>\n\n    <script src=\"./standalone/consent-manager.js\" defer><\/script>\n\n    \x3c!-- Load analytics.js --\x3e\n    <script>\n      !(function() {\n        var analytics = (window.analytics = window.analytics || [])\n        if (!analytics.initialize)\n          if (analytics.invoked)\n            window.console && console.error && console.error('Segment snippet included twice.')\n          else {\n            analytics.invoked = !0\n            analytics.methods = [\n              'trackSubmit',\n              'trackClick',\n              'trackLink',\n              'trackForm',\n              'pageview',\n              'identify',\n              'reset',\n              'group',\n              'track',\n              'ready',\n              'alias',\n              'debug',\n              'page',\n              'once',\n              'off',\n              'on',\n              'addSourceMiddleware'\n            ]\n            analytics.factory = function(t) {\n              return function() {\n                var e = Array.prototype.slice.call(arguments)\n                e.unshift(t)\n                analytics.push(e)\n                return analytics\n              }\n            }\n            for (var t = 0; t < analytics.methods.length; t++) {\n              var e = analytics.methods[t]\n              analytics[e] = analytics.factory(e)\n            }\n            analytics.load = function(t, e) {\n              var n = document.createElement('script')\n              n.type = 'text/javascript'\n              n.async = !0\n              n.src =\n                ('https:' === document.location.protocol ? 'https://' : 'http://') +\n                'cdn.segment.com/analytics.js/v1/' +\n                t +\n                '/analytics.min.js'\n              var o = document.getElementsByTagName('script')[0]\n              o.parentNode.insertBefore(n, o)\n              analytics._loadOptions = e\n            }\n            analytics.SNIPPET_VERSION = '4.1.0'\n            analytics.page()\n          }\n      })()\n    <\/script>\n  </body>\n</html>\n"},35:function(module,__webpack_exports__,__webpack_require__){"use strict";var templateObject_1,extendStatics,banner_templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,templateObject_9,dialog_templateObject_1,dialog_templateObject_2,dialog_templateObject_3,dialog_templateObject_4,dialog_templateObject_5,dialog_templateObject_6,dialog_templateObject_7,dialog_templateObject_8,dialog_templateObject_9,buttons_templateObject_1,buttons_templateObject_2,buttons_templateObject_3,buttons_templateObject_4,preference_dialog_templateObject_1,preference_dialog_templateObject_2,preference_dialog_templateObject_3,preference_dialog_templateObject_4,preference_dialog_templateObject_5,preference_dialog_templateObject_6,preference_dialog_templateObject_7,events=__webpack_require__(177),events_default=__webpack_require__.n(events),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_es=__webpack_require__(4),mixpanel_cjs=__webpack_require__(73),mixpanel_cjs_default=__webpack_require__.n(mixpanel_cjs),__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},font_styles=Object(index_es.a)(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial,\n    sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  font-smoothing: antialiased;\n  color: #435a6f;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 22px;\n  letter-spacing: -0.05px;\n"],["\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial,\n    sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  font-smoothing: antialiased;\n  color: #435a6f;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 22px;\n  letter-spacing: -0.05px;\n"]))),banner_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Root=Object(index_es.b)("div")(banner_templateObject_1||(banner_templateObject_1=banner_makeTemplateObject(["\n  ",";\n  position: fixed;\n  bottom: 0;\n  padding: 24px 32px;\n  padding-right: 40px;\n  background: #ffffff;\n  color: #8f8d8b;\n  font-size: 14px;\n  line-height: 1.3;\n  border-radius: 8px;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.06), 0px 6px 12px rgba(0, 0, 0, 0.06);\n  max-width: 90%;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: fit-content;\n  margin: auto;\n  overflow-y: scroll;\n\n  @media only screen and (min-width: 768px) {\n    max-width: 50%;\n  }\n"],["\n  ",";\n  position: fixed;\n  bottom: 0;\n  padding: 24px 32px;\n  padding-right: 40px;\n  background: #ffffff;\n  color: #8f8d8b;\n  font-size: 14px;\n  line-height: 1.3;\n  border-radius: 8px;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.06), 0px 6px 12px rgba(0, 0, 0, 0.06);\n  max-width: 90%;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: fit-content;\n  margin: auto;\n  overflow-y: scroll;\n\n  @media only screen and (min-width: 768px) {\n    max-width: 50%;\n  }\n"])),font_styles),Content=Object(index_es.b)("div")(templateObject_2||(templateObject_2=banner_makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  font-size: 1.2em;\n\n  a {\n    display: inline;\n    padding: 0;\n    border: none;\n    background: none;\n    color: inherit;\n    font: inherit;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  button {\n    border-radius: 8px;\n    padding: 12px 16px;\n    border: none;\n  }\n\n  @media only screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  font-size: 1.2em;\n\n  a {\n    display: inline;\n    padding: 0;\n    border: none;\n    background: none;\n    color: inherit;\n    font: inherit;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  button {\n    border-radius: 8px;\n    padding: 12px 16px;\n    border: none;\n  }\n\n  @media only screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n  }\n"]))),Action=Object(index_es.b)("div")(templateObject_3||(templateObject_3=banner_makeTemplateObject(["\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  margin-top: 48px;\n\n  @media only screen and (min-width: 768px) {\n    margin-top: 0;\n    flex-direction: row;\n    align-items: center;\n  }\n"],["\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  margin-top: 48px;\n\n  @media only screen and (min-width: 768px) {\n    margin-top: 0;\n    flex-direction: row;\n    align-items: center;\n  }\n"]))),SecondaryActions=Object(index_es.b)("div")(templateObject_4||(templateObject_4=banner_makeTemplateObject(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media only screen and (min-width: 768px) {\n    margin-top: 0;\n    align-items: center;\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media only screen and (min-width: 768px) {\n    margin-top: 0;\n    align-items: center;\n  }\n"]))),BannerHeading=Object(index_es.b)("div")(templateObject_5||(templateObject_5=banner_makeTemplateObject(["\n  text-align: center;\n  margin: 0;\n  font-size: 2em;\n  font-weight: bold;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n"],["\n  text-align: center;\n  margin: 0;\n  font-size: 2em;\n  font-weight: bold;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n"]))),BannerContent=Object(index_es.b)("div")(templateObject_6||(templateObject_6=banner_makeTemplateObject(["\n  margin: 0;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n\n  @media only screen and (min-width: 768px) {\n    max-width: 65%;\n  }\n"],["\n  margin: 0;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n\n  @media only screen and (min-width: 768px) {\n    max-width: 65%;\n  }\n"]))),AcceptButton=Object(index_es.b)("button")(templateObject_7||(templateObject_7=banner_makeTemplateObject(["\n  background-color: #0c826b;\n  color: #ffffff;\n  font-weight: 600;\n  padding: 8px;\n  margin-bottom: 12px;\n  @media only screen and (min-width: 768px) {\n    margin-bottom: 0;\n  }\n"],["\n  background-color: #0c826b;\n  color: #ffffff;\n  font-weight: 600;\n  padding: 8px;\n  margin-bottom: 12px;\n  @media only screen and (min-width: 768px) {\n    margin-bottom: 0;\n  }\n"]))),LinkButton=Object(index_es.b)("button")(templateObject_8||(templateObject_8=banner_makeTemplateObject(["\n  background-color: transparent;\n  text-decoration: underline;\n  font-size: 1em;\n  color: #a5a2a1;\n  font-weight: 500;\n  /* margin-bottom: 12px; */\n  padding: 6px;\n\n  @media only screen and (min-width: 768px) {\n    margin-bottom: 0;\n    margin-right: 8px;\n  }\n"],["\n  background-color: transparent;\n  text-decoration: underline;\n  font-size: 1em;\n  color: #a5a2a1;\n  font-weight: 500;\n  /* margin-bottom: 12px; */\n  padding: 6px;\n\n  @media only screen and (min-width: 768px) {\n    margin-bottom: 0;\n    margin-right: 8px;\n  }\n"]))),CloseButton=Object(index_es.b)("button")(templateObject_9||(templateObject_9=banner_makeTemplateObject(["\n  position: absolute;\n  right: 8px;\n  top: 24px;\n  transform: translateY(-50%);\n  padding: 8px;\n  border: none;\n  background: none;\n  color: inherit;\n  font: inherit;\n  font-size: 14px;\n  line-height: 1;\n  cursor: pointer;\n  color: #191919;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 24px;\n  transform: translateY(-50%);\n  padding: 8px;\n  border: none;\n  background: none;\n  color: inherit;\n  font: inherit;\n  font-size: 14px;\n  line-height: 1;\n  cursor: pointer;\n  color: #191919;\n"]))),consent_manager_banner=function(_super){function Banner(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Banner,_super),Banner.prototype.render=function(){var _a=this.props,innerRef=_a.innerRef,showClose=_a.showClose,onClose=_a.onClose,onAccept=_a.onAccept,onReject=_a.onReject,onChangePreferences=_a.onChangePreferences,heading=_a.heading,content=_a.content,acceptContent=_a.acceptContent,rejectContent=_a.rejectContent,subContent=_a.subContent,backgroundColor=_a.backgroundColor,textColor=_a.textColor;return react_default.a.createElement(Root,{innerRef:innerRef,backgroundColor:backgroundColor,textColor:textColor},heading&&react_default.a.createElement(BannerHeading,null,heading),react_default.a.createElement(Content,null,react_default.a.createElement(BannerContent,null,content),react_default.a.createElement(Action,null,react_default.a.createElement(SecondaryActions,null,rejectContent&&react_default.a.createElement(LinkButton,{type:"button",onClick:onReject},rejectContent),react_default.a.createElement(LinkButton,{type:"button",onClick:onChangePreferences},subContent)),react_default.a.createElement(AcceptButton,{type:"button",onClick:onAccept},acceptContent))),showClose&&react_default.a.createElement(CloseButton,{type:"button",title:"Close","aria-label":"Close",onClick:onClose},"✕"))},Banner.displayName="Banner",Banner}(react.PureComponent),react_dom=__webpack_require__(173),react_dom_default=__webpack_require__.n(react_dom),nanoid=__webpack_require__(400),nanoid_default=__webpack_require__.n(nanoid),dialog_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},dialog_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Overlay=Object(index_es.b)("div")(dialog_templateObject_1||(dialog_templateObject_1=dialog_makeTemplateObject(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.6);\n"],["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 9999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.6);\n"]))),openAnimation=Object(index_es.c)(dialog_templateObject_2||(dialog_templateObject_2=dialog_makeTemplateObject(["\n  from {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"],["\n  from {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n"]))),dialog_Root=Object(index_es.b)("section")(dialog_templateObject_3||(dialog_templateObject_3=dialog_makeTemplateObject(["\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: calc(100vw - 40px);\n  max-height: calc(100vh - 150px);\n  width: ",";\n  margin: 8px;\n  background: #fff;\n  border-radius: 8px;\n  animation: "," "," "," both;\n"],["\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: calc(100vw - 40px);\n  max-height: calc(100vh - 150px);\n  width: ",";\n  margin: 8px;\n  background: #fff;\n  border-radius: 8px;\n  animation: "," "," "," both;\n"])),font_styles,(function(props){return props.width}),openAnimation,"200ms","cubic-bezier(0.0, 0.0, 0.2, 1)"),Form=Object(index_es.b)("form")(dialog_templateObject_4||(dialog_templateObject_4=dialog_makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n"],["\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n"]))),Header=Object(index_es.b)("div")(dialog_templateObject_5||(dialog_templateObject_5=dialog_makeTemplateObject(["\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid rgba(67, 90, 111, 0.079);\n"],["\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid rgba(67, 90, 111, 0.079);\n"]))),Title=Object(index_es.b)("h2")(dialog_templateObject_6||(dialog_templateObject_6=dialog_makeTemplateObject(["\n  margin: 0;\n  color: #1f4160;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.3;\n"],["\n  margin: 0;\n  color: #1f4160;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.3;\n"]))),HeaderCancelButton=Object(index_es.b)("button")(dialog_templateObject_7||(dialog_templateObject_7=dialog_makeTemplateObject(["\n  padding: 8px;\n  border: none;\n  background: none;\n  color: inherit;\n  font: inherit;\n  font-size: 14px;\n  line-height: 1;\n  cursor: pointer;\n"],["\n  padding: 8px;\n  border: none;\n  background: none;\n  color: inherit;\n  font: inherit;\n  font-size: 14px;\n  line-height: 1;\n  cursor: pointer;\n"]))),dialog_Content=Object(index_es.b)("div")(dialog_templateObject_8||(dialog_templateObject_8=dialog_makeTemplateObject(["\n  overflow-y: auto;\n  padding: 16px;\n  padding-bottom: 0;\n  min-height: 0;\n  font-size: 14px;\n  line-height: 1.2;\n\n  p {\n    margin: 0;\n    &:not(:last-child) {\n      margin-bottom: 0.7em;\n    }\n  }\n\n  a {\n    color: #47b881;\n    &:hover {\n      color: #64c395;\n    }\n    &:active {\n      color: #248953;\n    }\n  }\n"],["\n  overflow-y: auto;\n  padding: 16px;\n  padding-bottom: 0;\n  min-height: 0;\n  font-size: 14px;\n  line-height: 1.2;\n\n  p {\n    margin: 0;\n    &:not(:last-child) {\n      margin-bottom: 0.7em;\n    }\n  }\n\n  a {\n    color: #47b881;\n    &:hover {\n      color: #64c395;\n    }\n    &:active {\n      color: #248953;\n    }\n  }\n"]))),Buttons=Object(index_es.b)("div")(dialog_templateObject_9||(dialog_templateObject_9=dialog_makeTemplateObject(["\n  padding: 16px;\n  text-align: right;\n"],["\n  padding: 16px;\n  text-align: right;\n"]))),consent_manager_dialog=function(_super){function Dialog(props){var _this=_super.call(this,props)||this;return _this.handleRootRef=function(node){_this.root=node},_this.handleFormRef=function(node){_this.form=node},_this.handleOverlayClick=function(e){var onCancel=_this.props.onCancel;onCancel&&_this.root&&!_this.root.contains(e.target)&&onCancel()},_this.handleEsc=function(e){var onCancel=_this.props.onCancel;onCancel&&27===e.keyCode&&onCancel()},_this.titleId=nanoid_default()(),_this.container=document.createElement("div"),_this.container.setAttribute("data-consent-manager-dialog",""),document.body.appendChild(_this.container),_this}return dialog_extends(Dialog,_super),Dialog.prototype.render=function(){var _a=this.props,onCancel=_a.onCancel,onSubmit=_a.onSubmit,title=_a.title,children=_a.children,buttons=_a.buttons,width=_a.width,dialog=react_default.a.createElement(Overlay,{onClick:this.handleOverlayClick},react_default.a.createElement(dialog_Root,{innerRef:this.handleRootRef,role:"dialog","aria-modal":!0,"aria-labelledby":this.titleId,width:width},react_default.a.createElement(Header,null,react_default.a.createElement(Title,{id:this.titleId},title),onCancel&&react_default.a.createElement(HeaderCancelButton,{onClick:onCancel,title:"Cancel","aria-label":"Cancel"},"✕")),react_default.a.createElement(Form,{innerRef:this.handleFormRef,onSubmit:onSubmit},react_default.a.createElement(dialog_Content,null,children),react_default.a.createElement(Buttons,null,buttons))));return react_dom_default.a.createPortal(dialog,this.container)},Dialog.prototype.componentDidMount=function(){var innerRef=this.props.innerRef;if(this.form){var input=this.form.querySelector("input,button");input&&input.focus()}document.body.addEventListener("keydown",this.handleEsc,!1),document.body.style.overflow="hidden",innerRef(this.container)},Dialog.prototype.componentWillUnmount=function(){var innerRef=this.props.innerRef;document.body.removeEventListener("keydown",this.handleEsc,!1),document.body.style.overflow="",document.body.removeChild(this.container),innerRef(null)},Dialog.displayName="Dialog",Dialog.defaultProps={onCancel:void 0,width:"750px"},Dialog}(react.PureComponent),buttons_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},baseStyles=Object(index_es.a)(buttons_templateObject_1||(buttons_templateObject_1=buttons_makeTemplateObject(["\n  height: 32px;\n  padding: 0 16px;\n  border: none;\n  border-radius: 4px;\n  color: inherit;\n  font: inherit;\n  font-size: 12px;\n  line-height: 1;\n  cursor: pointer;\n  outline: none;\n  transition: box-shadow 80ms ease-in-out;\n"],["\n  height: 32px;\n  padding: 0 16px;\n  border: none;\n  border-radius: 4px;\n  color: inherit;\n  font: inherit;\n  font-size: 12px;\n  line-height: 1;\n  cursor: pointer;\n  outline: none;\n  transition: box-shadow 80ms ease-in-out;\n"]))),DefaultButton=Object(index_es.b)("button")(buttons_templateObject_2||(buttons_templateObject_2=buttons_makeTemplateObject(["\n  ",";\n  margin-right: 8px;\n  background-color: #fff;\n  background-image: linear-gradient(to top, rgba(67, 90, 111, 0.041), rgba(255, 255, 255, 0.041));\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.146), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  &:hover {\n    background-image: linear-gradient(to top, rgba(67, 90, 111, 0.057), rgba(67, 90, 111, 0.025));\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.255),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.114);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(1, 108, 209, 0.146), inset 0 0 0 1px rgba(67, 90, 111, 0.38),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  }\n  &:active {\n    background: rgba(1, 108, 209, 0.079);\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.146),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  }\n"],["\n  ",";\n  margin-right: 8px;\n  background-color: #fff;\n  background-image: linear-gradient(to top, rgba(67, 90, 111, 0.041), rgba(255, 255, 255, 0.041));\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.146), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  &:hover {\n    background-image: linear-gradient(to top, rgba(67, 90, 111, 0.057), rgba(67, 90, 111, 0.025));\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.255),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.114);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(1, 108, 209, 0.146), inset 0 0 0 1px rgba(67, 90, 111, 0.38),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  }\n  &:active {\n    background: rgba(1, 108, 209, 0.079);\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.146),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.079);\n  }\n"])),baseStyles),GreenButton=Object(index_es.b)("button")(buttons_templateObject_3||(buttons_templateObject_3=buttons_makeTemplateObject(["\n  ",";\n  background-color: #47b881;\n  background-image: linear-gradient(to top, #3faf77, #47b881);\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  color: #fff;\n  &:hover {\n    background-image: linear-gradient(to top, #37a56d, #3faf77);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(71, 184, 129, 0.477), inset 0 0 0 1px rgba(71, 184, 129, 0.204),\n      inset 0 -1px 1px 0 rgba(71, 184, 129, 0.204);\n  }\n  &:active {\n    background-image: linear-gradient(to top, #2d9760, #248953);\n    box-shadow: inset 0 0 0 1px rgba(71, 184, 129, 0.204),\n      inset 0 -1px 1px 0 rgba(71, 184, 129, 0.204);\n  }\n"],["\n  ",";\n  background-color: #47b881;\n  background-image: linear-gradient(to top, #3faf77, #47b881);\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  color: #fff;\n  &:hover {\n    background-image: linear-gradient(to top, #37a56d, #3faf77);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(71, 184, 129, 0.477), inset 0 0 0 1px rgba(71, 184, 129, 0.204),\n      inset 0 -1px 1px 0 rgba(71, 184, 129, 0.204);\n  }\n  &:active {\n    background-image: linear-gradient(to top, #2d9760, #248953);\n    box-shadow: inset 0 0 0 1px rgba(71, 184, 129, 0.204),\n      inset 0 -1px 1px 0 rgba(71, 184, 129, 0.204);\n  }\n"])),baseStyles),RedButton=Object(index_es.b)("button")(buttons_templateObject_4||(buttons_templateObject_4=buttons_makeTemplateObject(["\n  ",";\n  background-color: #f36331;\n  background-image: linear-gradient(to top, #f4541d, #f36331);\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  color: #fff;\n  &:hover {\n    background-image: linear-gradient(to top, #f4450a, #f4541d);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(243, 99, 49, 0.477), inset 0 0 0 1px rgba(243, 99, 49, 0.204),\n      inset 0 -1px 1px 0 rgba(243, 99, 49, 0.204);\n  }\n  &:active {\n    background-image: linear-gradient(to top, #dd3c06, #c63403);\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  }\n"],["\n  ",";\n  background-color: #f36331;\n  background-image: linear-gradient(to top, #f4541d, #f36331);\n  box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204), inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  color: #fff;\n  &:hover {\n    background-image: linear-gradient(to top, #f4450a, #f4541d);\n  }\n  &:focus {\n    box-shadow: 0 0 0 3px rgba(243, 99, 49, 0.477), inset 0 0 0 1px rgba(243, 99, 49, 0.204),\n      inset 0 -1px 1px 0 rgba(243, 99, 49, 0.204);\n  }\n  &:active {\n    background-image: linear-gradient(to top, #dd3c06, #c63403);\n    box-shadow: inset 0 0 0 1px rgba(67, 90, 111, 0.204),\n      inset 0 -1px 1px 0 rgba(67, 90, 111, 0.204);\n  }\n"])),baseStyles),preference_dialog_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},preference_dialog_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),hideOnMobile=Object(index_es.a)(preference_dialog_templateObject_1||(preference_dialog_templateObject_1=preference_dialog_makeTemplateObject(["\n  @media (max-width: 600px) {\n    display: none;\n  }\n"],["\n  @media (max-width: 600px) {\n    display: none;\n  }\n"]))),TableScroll=Object(index_es.b)("div")(preference_dialog_templateObject_2||(preference_dialog_templateObject_2=preference_dialog_makeTemplateObject(["\n  overflow-x: auto;\n  margin-top: 16px;\n"],["\n  overflow-x: auto;\n  margin-top: 16px;\n"]))),Table=Object(index_es.b)("table")(preference_dialog_templateObject_3||(preference_dialog_templateObject_3=preference_dialog_makeTemplateObject(["\n  border-collapse: collapse;\n  font-size: 12px;\n"],["\n  border-collapse: collapse;\n  font-size: 12px;\n"]))),ColumnHeading=Object(index_es.b)("th")(preference_dialog_templateObject_4||(preference_dialog_templateObject_4=preference_dialog_makeTemplateObject(["\n  background: #f7f8fa;\n  color: #1f4160;\n  font-weight: 600;\n  text-align: left;\n  border-width: 2px;\n"],["\n  background: #f7f8fa;\n  color: #1f4160;\n  font-weight: 600;\n  text-align: left;\n  border-width: 2px;\n"]))),RowHeading=Object(index_es.b)("th")(preference_dialog_templateObject_5||(preference_dialog_templateObject_5=preference_dialog_makeTemplateObject(["\n  font-weight: normal;\n  text-align: left;\n"],["\n  font-weight: normal;\n  text-align: left;\n"]))),Row=Object(index_es.b)("tr")(preference_dialog_templateObject_6||(preference_dialog_templateObject_6=preference_dialog_makeTemplateObject(["\n  th,\n  td {\n    vertical-align: top;\n    padding: 8px 12px;\n    border: 1px solid rgba(67, 90, 111, 0.114);\n  }\n  td {\n    border-top: none;\n  }\n"],["\n  th,\n  td {\n    vertical-align: top;\n    padding: 8px 12px;\n    border: 1px solid rgba(67, 90, 111, 0.114);\n  }\n  td {\n    border-top: none;\n  }\n"]))),InputCell=Object(index_es.b)("td")(preference_dialog_templateObject_7||(preference_dialog_templateObject_7=preference_dialog_makeTemplateObject(["\n  input {\n    vertical-align: middle;\n  }\n  label {\n    display: block;\n    margin-bottom: 4px;\n    white-space: nowrap;\n  }\n"],["\n  input {\n    vertical-align: middle;\n  }\n  label {\n    display: block;\n    margin-bottom: 4px;\n    white-space: nowrap;\n  }\n"]))),preference_dialog=function(_super){function PreferenceDialog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleChange=function(e){(0,_this.props.onChange)(e.target.name,"true"===e.target.value)},_this.handleSubmit=function(e){var _a=_this.props,onSave=_a.onSave,preferences=_a.preferences,marketingAndAnalytics=_a.marketingAndAnalytics,advertising=_a.advertising,functional=_a.functional,customCategories=_a.customCategories;e.preventDefault(),(customCategories||null!==marketingAndAnalytics&&null!==advertising&&null!==functional)&&(customCategories&&Object.keys(customCategories).some((function(category){return null===preferences[category]}))||onSave())},_this}return preference_dialog_extends(PreferenceDialog,_super),PreferenceDialog.prototype.render=function(){var _this=this,_a=this.props,innerRef=_a.innerRef,onCancel=_a.onCancel,marketingDestinations=_a.marketingDestinations,advertisingDestinations=_a.advertisingDestinations,functionalDestinations=_a.functionalDestinations,marketingAndAnalytics=_a.marketingAndAnalytics,advertising=_a.advertising,functional=_a.functional,customCategories=_a.customCategories,destinations=_a.destinations,title=_a.title,content=_a.content,preferences=_a.preferences,buttons=react_default.a.createElement("div",null,react_default.a.createElement(DefaultButton,{type:"button",onClick:onCancel},"Abbrechen"),react_default.a.createElement(GreenButton,{type:"submit"},"Speichern"));return react_default.a.createElement(consent_manager_dialog,{innerRef:innerRef,title:title,buttons:buttons,onCancel:onCancel,onSubmit:this.handleSubmit},content,react_default.a.createElement(TableScroll,null,react_default.a.createElement(Table,null,react_default.a.createElement("thead",null,react_default.a.createElement(Row,null,react_default.a.createElement(ColumnHeading,{scope:"col"},"Erlaubnis"),react_default.a.createElement(ColumnHeading,{scope:"col"},"Kategorie"),react_default.a.createElement(ColumnHeading,{scope:"col"},"Zweck"),react_default.a.createElement(ColumnHeading,{scope:"col",className:hideOnMobile},"Tools"))),react_default.a.createElement("tbody",null,!customCategories&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Row,null,react_default.a.createElement(InputCell,null,react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"functional",value:"true",checked:!0===functional,onChange:this.handleChange,"aria-label":"Allow functional tracking",required:!0})," ","Ja"),react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"functional",value:"false",checked:!1===functional,onChange:this.handleChange,"aria-label":"Disallow functional tracking",required:!0})," ","Nein")),react_default.a.createElement(RowHeading,{scope:"row"},"Funktional"),react_default.a.createElement("td",null,react_default.a.createElement("p",null,"Diese Cookies ermöglichen es uns, die Funktionalität und individuelle Gestaltung zu verbessern, beispielsweise von Videos und Live-Chats. Sie können von uns oder von Drittanbietern festgelegt werden, deren Dienste wir auf unseren Seiten hinzugefügt haben. Wenn du diese Cookies nicht zulässt, kann es sein, dass einige oder alle dieser Funktionen nicht ordnungsgemäß funktionieren."),react_default.a.createElement("p",{className:hideOnMobile},"For example, these tools enable you to communicate with us via live chat.")),react_default.a.createElement("td",{className:hideOnMobile},functionalDestinations.map((function(d){return d.name})).join(", "))),react_default.a.createElement(Row,null,react_default.a.createElement(InputCell,null,react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"marketingAndAnalytics",value:"true",checked:!0===marketingAndAnalytics,onChange:this.handleChange,"aria-label":"Allow marketing and analytics tracking",required:!0})," ","Ja"),react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"marketingAndAnalytics",value:"false",checked:!1===marketingAndAnalytics,onChange:this.handleChange,"aria-label":"Disallow marketing and analytics tracking",required:!0})," ","Nein")),react_default.a.createElement(RowHeading,{scope:"row"},"Marketing and Analytics"),react_default.a.createElement("td",null,react_default.a.createElement("p",null,"Diese Cookies werden durch unsere Website von unseren Werbepartnern eingestellt. Sie können von diesen Unternehmen verwendet werden, um ein Profil deiner Interessen zu erstellen und dir relevante Anzeigen an anderer Stelle zu zeigen. Sie funktionieren, indem sie deinen Browser und dein Gerät eindeutig identifizieren. Wenn du diese Cookies nicht zulässt, wird dir auf verschiedenen Websites keine gezielte Werbung aufgrund dieser Cookies angezeigt."),react_default.a.createElement("p",{className:hideOnMobile},"For example, we collect information about which pages you visit to help us present more relevant information.")),react_default.a.createElement("td",{className:hideOnMobile},marketingDestinations.map((function(d){return d.name})).join(", "))),react_default.a.createElement(Row,null,react_default.a.createElement(InputCell,null,react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"advertising",value:"true",checked:!0===advertising,onChange:this.handleChange,"aria-label":"Allow advertising tracking",required:!0})," ","Ja"),react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:"advertising",value:"false",checked:!1===advertising,onChange:this.handleChange,"aria-label":"Disallow advertising tracking",required:!0})," ","Nein")),react_default.a.createElement(RowHeading,{scope:"row"},"Advertising"),react_default.a.createElement("td",null,react_default.a.createElement("p",null,"Zur Personalisierung und Messung der Effektivität von Werbung auf unserer Website und anderen Websites."),react_default.a.createElement("p",{className:hideOnMobile},"For example, we may serve you a personalized ad based on the pages you visit on our site.")),react_default.a.createElement("td",{className:hideOnMobile},advertisingDestinations.map((function(d){return d.name})).join(", ")))),customCategories&&Object.entries(customCategories).map((function(_a){var categoryName=_a[0],_b=_a[1],integrations=_b.integrations,purpose=_b.purpose;return react_default.a.createElement(Row,{key:categoryName},react_default.a.createElement(InputCell,null,react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:categoryName,value:"true",checked:!0===preferences[categoryName],onChange:_this.handleChange,"aria-label":'Allow "'+categoryName+'" tracking',required:!0})," ","Ja"),react_default.a.createElement("label",null,react_default.a.createElement("input",{type:"radio",name:categoryName,value:"false",checked:!1===preferences[categoryName],onChange:_this.handleChange,"aria-label":'Disallow "'+categoryName+'" tracking',required:!0})," ","Nein")),react_default.a.createElement(RowHeading,{scope:"row"},categoryName),react_default.a.createElement("td",null,react_default.a.createElement("p",null,purpose)),react_default.a.createElement("td",{className:hideOnMobile},destinations.filter((function(d){return integrations.includes(d.id)})).map((function(d){return d.name})).join(", ")))})),react_default.a.createElement(Row,null,react_default.a.createElement("td",null,"N/A"),react_default.a.createElement(RowHeading,{scope:"row"},"Unbedingt erforderlich"),react_default.a.createElement("td",null,react_default.a.createElement("p",null,"Diese Cookies sind für die Funktion der Website notwendig und können in unseren Systemen nicht ausgeschaltet werden. Sie werden in der Regel nur als Reaktion auf eine deiner Aktionen eingestellt, die zu einer Anfrage nach einem Service führen, wie beispielsweise das Festlegen deiner Datenschutzeinstellungen, das Einloggen oder das Ausfüllen von Formularen. Du kannst deinen Browser so einstellen, dass diese Cookies blockiert oder dich warnt, dann könnte es jedoch sein, dass einige Teile der Website nicht funktionieren.")),react_default.a.createElement("td",{className:hideOnMobile}))))))},PreferenceDialog.displayName="PreferenceDialog",PreferenceDialog.defaultProps={marketingAndAnalytics:null,advertising:null,functional:null},PreferenceDialog}(react.PureComponent),cancel_dialog_extends=function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),cancel_dialog=function(_super){function CancelDialog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.handleSubmit=function(e){var onConfirm=_this.props.onConfirm;e.preventDefault(),onConfirm()},_this.handleEsc=function(e){var onConfirm=_this.props.onConfirm;27===e.keyCode&&onConfirm()},_this}return cancel_dialog_extends(CancelDialog,_super),CancelDialog.prototype.render=function(){var _a=this.props,innerRef=_a.innerRef,onBack=_a.onBack,title=_a.title,content=_a.content,buttons=react_default.a.createElement("div",null,react_default.a.createElement(DefaultButton,{type:"button",onClick:onBack},"Zurück"),react_default.a.createElement(RedButton,{type:"submit"},"Abbrechen"));return react_default.a.createElement(consent_manager_dialog,{innerRef:innerRef,title:title,buttons:buttons,onSubmit:this.handleSubmit,width:"500px"},content)},CancelDialog.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleEsc,!1)},CancelDialog.prototype.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.handleEsc,!1)},CancelDialog.displayName="CancelDialog",CancelDialog}(react.PureComponent),categories=__webpack_require__(103);__webpack_require__.d(__webpack_exports__,"b",(function(){return openDialog}));var container_makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked},container_Overlay=Object(index_es.b)("div")(container_templateObject_1||(container_templateObject_1=container_makeTemplateObject(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9998;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n"],["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9998;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n"]))),emitter=new events_default.a;function openDialog(){emitter.emit("openDialog")}var container_templateObject_1;__webpack_exports__.a=function(props){var _a=react_default.a.useState(props.workspaceAddedNewDestinations&&"ask"===props.defaultDestinationBehavior),isDialogOpen=_a[0],toggleDialog=_a[1],_b=react_default.a.useState(!0),showBanner=_b[0],toggleBanner=_b[1],_c=react_default.a.useState(!1),isCancelling=_c[0],toggleCancel=_c[1],banner=react_default.a.useRef(null),preferenceDialog=react_default.a.useRef(null),cancelDialog=react_default.a.useRef(null),_d=function normalizeDestinations(destinations){for(var marketingDestinations=[],advertisingDestinations=[],functionalDestinations=[],_loop_1=function(destination){categories.a.find((function(c){return c===destination.category}))?advertisingDestinations.push(destination):categories.b.find((function(c){return c===destination.category}))?functionalDestinations.push(destination):marketingDestinations.push(destination)},_i=0,destinations_1=destinations;_i<destinations_1.length;_i++){_loop_1(destinations_1[_i])}return{marketingDestinations:marketingDestinations,advertisingDestinations:advertisingDestinations,functionalDestinations:functionalDestinations}}(props.destinations),marketingDestinations=_d.marketingDestinations,advertisingDestinations=_d.advertisingDestinations,functionalDestinations=_d.functionalDestinations,handleBodyClick=function(e){props.isConsentRequired&&props.implyConsentOnInteraction&&0!==props.newDestinations.length&&(banner.current&&banner.current.contains(e.target)||preferenceDialog.current&&preferenceDialog.current.contains(e.target)||cancelDialog.current&&cancelDialog.current.contains(e.target)||props.saveConsent(void 0,!1))},showDialog=function(){return toggleDialog(!0)};react_default.a.useEffect((function(){return emitter.on("openDialog",showDialog),props.isConsentRequired&&props.implyConsentOnInteraction&&document.body.addEventListener("click",handleBodyClick,!1),function(){emitter.removeListener("openDialog",showDialog),document.body.removeEventListener("click",handleBodyClick,!1)}})),react_default.a.useEffect((function(){isDialogOpen&&props.resetPreferences()}),[isDialogOpen]);return react_default.a.createElement("div",{className:"consent-manager-container"},showBanner&&props.isConsentRequired&&props.newDestinations.length>0&&react_default.a.createElement(container_Overlay,null,react_default.a.createElement(consent_manager_banner,{innerRef:function(current){return banner={current:current}},showClose:!1,onClose:function(){if(void 0===props.closeBehavior||"dismiss"===props.closeBehavior)return toggleBanner(!1);if("accept"===props.closeBehavior)return props.saveConsent();if("deny"===props.closeBehavior){var falsePreferences=Object.keys(props.preferences).reduce((function(acc,category){return acc[category]=!1,acc}),{});return props.setPreferences(falsePreferences),props.saveConsent()}var customClosePreferences=props.closeBehavior(props.preferences);return props.setPreferences(customClosePreferences),props.saveConsent(),toggleBanner(!1)},onAccept:function(){props.mixpanelTracking&&mixpanel_cjs_default.a.track("banner_accept_clicked");var truePreferences=Object.keys(props.preferences).reduce((function(acc,category){return acc[category]=!0,acc}),{});return props.setPreferences(truePreferences),props.saveConsent()},onReject:function(){var falsePreferences=Object.keys(props.preferences).reduce((function(acc,category){return acc[category]=!1,acc}),{});return props.setPreferences(falsePreferences),props.saveConsent()},onChangePreferences:function(){props.mixpanelTracking&&mixpanel_cjs_default.a.track("banner_settings_clicked"),toggleDialog(!0)},heading:props.bannerHeading,content:props.bannerContent,acceptContent:props.bannerAcceptContent,rejectContent:props.bannerRejectContent,subContent:props.bannerSubContent,textColor:props.bannerTextColor,backgroundColor:props.bannerBackgroundColor})),isDialogOpen&&react_default.a.createElement(preference_dialog,{customCategories:props.customCategories,destinations:props.destinations,preferences:props.preferences,innerRef:function(current){return preferenceDialog={current:current}},onCancel:function(){props.newDestinations.length>0?toggleCancel(!0):(toggleDialog(!1),props.resetPreferences())},onSave:function(){props.mixpanelTracking&&mixpanel_cjs_default.a.track("banner_settings_saved_clicked"),toggleDialog(!1),props.saveConsent()},onChange:function(category,value){var _a;props.setPreferences(((_a={})[category]=value,_a))},marketingDestinations:marketingDestinations,advertisingDestinations:advertisingDestinations,functionalDestinations:functionalDestinations,marketingAndAnalytics:props.preferences.marketingAndAnalytics,advertising:props.preferences.advertising,functional:props.preferences.functional,title:props.preferencesDialogTitle,content:props.preferencesDialogContent}),isCancelling&&react_default.a.createElement(cancel_dialog,{innerRef:function(current){return cancelDialog={current:current}},onBack:function(){toggleCancel(!1)},onConfirm:function(){toggleCancel(!1),toggleDialog(!1),props.resetPreferences()},title:props.cancelDialogTitle,content:props.cancelDialogContent}))}},404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ImplyConsentOnInteraction}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(182),evergreen_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),_components_common_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(55),ImplyConsentOnInteraction=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"],bannerContent:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.bannerContent,bannerSubContent:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.bannerSubContent,preferencesDialogTitle:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.preferencesDialogTitle,preferencesDialogContent:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.preferencesDialogContent,cancelDialogTitle:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.cancelDialogTitle,cancelDialogContent:_components_common_react__WEBPACK_IMPORTED_MODULE_8__.cancelDialogContent,implyConsentOnInteraction:!0}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Your website content "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,null,"Clicking anywhere on this page will cause the Consent Manager to imply consent."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{onClick:_src__WEBPACK_IMPORTED_MODULE_7__.b},"Data Collection and Cookie Preferences")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"to see the banner again:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_5__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear tracking preferences cookie"))))}},411:function(module,exports,__webpack_require__){__webpack_require__(412),__webpack_require__(583),module.exports=__webpack_require__(584)},447:function(module,exports){},55:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"bannerContent",(function(){return bannerContent})),__webpack_require__.d(__webpack_exports__,"bannerSubContent",(function(){return bannerSubContent})),__webpack_require__.d(__webpack_exports__,"preferencesDialogTitle",(function(){return preferencesDialogTitle})),__webpack_require__.d(__webpack_exports__,"preferencesDialogContent",(function(){return preferencesDialogContent})),__webpack_require__.d(__webpack_exports__,"cancelDialogTitle",(function(){return cancelDialogTitle})),__webpack_require__.d(__webpack_exports__,"cancelDialogContent",(function(){return cancelDialogContent}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),bannerSubContent="You can manage your preferences here!",preferencesDialogTitle="Website Data Collection Preferences",preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogTitle="Are you sure you want to cancel?",cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),".")},584:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(783),module)}.call(this,__webpack_require__(34)(module))},783:function(module,exports,__webpack_require__){var map={"./0-consent-manager.stories.tsx":784,"./0.1-consent-manager-close-interaction.stories.tsx":1061,"./1-standalone.stories.tsx":1062,"./1.1-standalone-custom.stories.tsx":1063,"./2-category-based.stories.tsx":1064,"./3-tool-based.stories.tsx":1065,"./4-custom-consent.stories.tsx":1066,"./5-custom-categories.stories.tsx":1067,"./6-ccpa-gdpr-example.stories.tsx":1068,"./7-default-destination-behavior.stories.tsx":1074,"./8-mixpanel-custom-events.stories.tsx":1075,"./9-heading.stories.tsx":1076};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=783},784:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),js_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),js_cookie__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_1__),evergreen_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),evergreen_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),evergreen_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),_src__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),_src__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(35),_storybook_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(75),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76),_components_CookieView__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(12),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},withSourceLoader=__webpack_require__(41).withSource,__STORY__='import React from \'react\'\nimport cookies from \'js-cookie\'\nimport { Pane, Heading, Button } from \'evergreen-ui\'\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from \'../src\'\nimport { storiesOf } from \'@storybook/react\'\nimport { CloseBehavior, CloseBehaviorFunction } from \'../src/consent-manager/container\'\nimport { docco } from \'react-syntax-highlighter/dist/esm/styles/hljs\'\nimport SyntaxHighlighter from \'react-syntax-highlighter\'\nimport { Preferences } from \'../src/types\'\nimport CookieView from \'./components/CookieView\'\n\nconst bannerContent = (\n  <span>\n    We use cookies (and other similar technologies) to collect data to improve your experience on\n    our site. By using our website, you’re agreeing to the collection of data as described in our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </span>\n)\nconst bannerSubContent = \'Manage Preferences\'\nconst preferencesDialogTitle = \'Website Data Collection Preferences\'\nconst preferencesDialogContent = (\n  <div>\n    <p>\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\n      overall performance of our site.\n    </p>\n    <p>\n      By using our website, you’re agreeing to our{\' \'}\n      <a\n        href="https://segment.com/docs/legal/website-data-collection-policy/"\n        target="_blank"\n        rel="noopener noreferrer"\n      >\n        Website Data Collection Policy\n      </a>\n      .\n    </p>\n    <p>\n      The table below outlines how we use this data by category. To opt out of a category of data\n      collection, select “No” and save your preferences.\n    </p>\n  </div>\n)\nconst cancelDialogTitle = \'Are you sure you want to cancel?\'\nconst cancelDialogContent = (\n  <div>\n    Your preferences have not been saved. By continuing to use our website, you’re agreeing to our{\' \'}\n    <a\n      href="https://segment.com/docs/legal/website-data-collection-policy/"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      Website Data Collection Policy\n    </a>\n    .\n  </div>\n)\n\nconst ConsentManagerExample = (props: { closeBehavior: CloseBehavior | CloseBehaviorFunction }) => {\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\n\n  const cleanup = onPreferencesSaved(preferences => {\n    updatePrefs(preferences)\n  })\n\n  React.useEffect(() => {\n    return () => {\n      cleanup()\n    }\n  })\n\n  return (\n    <Pane>\n      <ConsentManager\n        writeKey="tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0"\n        otherWriteKeys={[\'vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l\']}\n        bannerContent={bannerContent}\n        bannerSubContent={bannerSubContent}\n        preferencesDialogTitle={preferencesDialogTitle}\n        preferencesDialogContent={preferencesDialogContent}\n        cancelDialogTitle={cancelDialogTitle}\n        cancelDialogContent={cancelDialogContent}\n        closeBehavior={props.closeBehavior}\n      />\n\n      <Pane marginX={100} marginTop={20}>\n        <Heading> Your website content </Heading>\n        <Pane display="flex">\n          <iframe\n            src="https://giphy.com/embed/JIX9t2j0ZTN9S"\n            width="480"\n            height="480"\n            frameBorder="0"\n          />\n\n          <iframe\n            src="https://giphy.com/embed/yFQ0ywscgobJK"\n            width="398"\n            height="480"\n            frameBorder="0"\n          />\n        </Pane>\n\n        <p>\n          <div>\n            <Heading>Current Preferences</Heading>\n            <SyntaxHighlighter language="json" style={docco}>\n              {JSON.stringify(prefs, null, 2)}\n            </SyntaxHighlighter>\n          </div>\n          <Button marginRight={20} onClick={openConsentManager}>\n            Change Cookie Preferences\n          </Button>\n          <Button\n            onClick={() => {\n              cookies.remove(\'tracking-preferences\')\n              window.location.reload()\n            }}\n          >\n            Clear\n          </Button>\n        </p>\n      </Pane>\n      <CookieView />\n    </Pane>\n  )\n}\n\nstoriesOf(\'React Component / OnClose interactions\', module)\n  .add(`Dismiss`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DISMISS} />)\n  .add(`Accept`, () => <ConsentManagerExample closeBehavior={CloseBehavior.ACCEPT} />)\n  .add(`Deny`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DENY} />)\n  .add(`Custom Close Behavior`, () => (\n    <ConsentManagerExample\n      closeBehavior={categories => ({\n        ...categories,\n        advertising: false\n      })}\n    />\n  ))\n',__ADDS_MAP__={},bannerContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you’re agreeing to the collection of data as described in our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),preferencesDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"By using our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"The table below outlines how we use this data by category. To opt out of a category of data collection, select “No” and save your preferences.")),cancelDialogContent=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Your preferences have not been saved. By continuing to use our website, you’re agreeing to our"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://segment.com/docs/legal/website-data-collection-policy/",target:"_blank",rel:"noopener noreferrer"},"Website Data Collection Policy"),"."),ConsentManagerExample=function(props){var _a=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(Object(_src__WEBPACK_IMPORTED_MODULE_5__.a)()),prefs=_a[0],updatePrefs=_a[1],cleanup=Object(_src__WEBPACK_IMPORTED_MODULE_5__.b)((function(preferences){updatePrefs(preferences)}));return react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect((function(){return function(){cleanup()}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_6__.a,{writeKey:"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0",otherWriteKeys:["vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l"],bannerContent:bannerContent,bannerSubContent:"Manage Preferences",preferencesDialogTitle:"Website Data Collection Preferences",preferencesDialogContent:preferencesDialogContent,cancelDialogTitle:"Are you sure you want to cancel?",cancelDialogContent:cancelDialogContent,closeBehavior:props.closeBehavior}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{marginX:100,marginTop:20},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null," Your website content "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_2__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/JIX9t2j0ZTN9S",width:"480",height:"480",frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe",{src:"https://giphy.com/embed/yFQ0ywscgobJK",width:"398",height:"480",frameBorder:"0"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_3__.a,null,"Current Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_10__.a,{language:"json",style:react_syntax_highlighter_dist_esm_styles_hljs__WEBPACK_IMPORTED_MODULE_9__.a},JSON.stringify(prefs,null,2))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{marginRight:20,onClick:_src__WEBPACK_IMPORTED_MODULE_7__.b},"Change Cookie Preferences"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(evergreen_ui__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){js_cookie__WEBPACK_IMPORTED_MODULE_1___default.a.remove("tracking-preferences"),window.location.reload()}},"Clear"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CookieView__WEBPACK_IMPORTED_MODULE_11__.a,null))};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_8__.storiesOf)("React Component / OnClose interactions",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/0-consent-manager.stories.tsx",[],{},"/Users/chi_yue/dev/tilda/consent-manager/stories",{})).add("Dismiss",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"dismiss"})})).add("Accept",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"accept"})})).add("Deny",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:"deny"})})).add("Custom Close Behavior",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConsentManagerExample,{closeBehavior:function(categories){return __assign(__assign({},categories),{advertising:!1})}})}))}.call(this,__webpack_require__(34)(module))}},[[411,1,2]]]);
//# sourceMappingURL=main.55b08bbfd3f34a7a5a85.bundle.js.map